/*! 29.0.1.0 */
/*! VersionVI: 01A302032    */
var WDSaisie=function(){"use strict";function n(n,t,i,r,u){if(arguments.length){WDChamp.prototype.constructor.apply(this,arguments);var f=u[0],e=u[1],o=u[2];this.m_sIndication=String(f);this.m_sAliasChampCalendrier=e;this.m_sFormatAffichage=o;this.m_oObjetChampCalendrier=null;this.m_bDepuisOnChange=!1;this.m_bChangeDepuisCalendrier=!1}}return n.prototype=new WDChamp,n.prototype.constructor=n,n.prototype.Init=function(){WDChamp.prototype.Init.apply(this,arguments);this.RAZIndication()},n.prototype._vLiaisonHTML=function(){WDChamp.prototype._vLiaisonHTML.apply(this,arguments);this.m_sAliasChampCalendrier&&(this.m_oObjetChampCalendrier=clWDUtil.m_oChamps.oGetChampDirect(this.m_sAliasChampCalendrier))},n.prototype.__tabGetChamps=function(){if(this.bGestionTableZR()){var n=[];return this.PourToutesLignesTableZR(function(t,i){n[t-i]=document.getElementsByName("zrl_"+t+"_"+this.m_sAliasChamp)[0]},this.nGetTableZRDebut()),n}return document.getElementsByName(this.m_sAliasChamp)},n.prototype.RAZIndication=function(){""!==this.m_sIndication&&clWDUtil.bForEachThis(this.__tabGetChamps(),this,function(n){return n&&n.value!==undefined&&this.__PlaceIndication(n,!0),!0})},n.prototype.GetProp=function(n,t,i,r){switch(n){case this.XML_CHAMP_PROP_NUM_INDICATION:return this.m_sIndication;case this.XML_CHAMP_PROP_NUM_TEXTESANSFORMAT:return this.GetProp(this,t,i,r);default:return WDChamp.prototype.GetProp.apply(this,arguments)}},n.prototype.SetProp=function(n,t,i,r,u){var f,e;i=WDChamp.prototype.SetProp.apply(this,arguments);switch(n){case this.XML_CHAMP_PROP_NUM_INDICATION:return e=this.__tabGetChamps(),this.m_sIndication=String(i),clWDUtil.bForEachThis(e,this,function(n){return n&&this.__PlaceIndication(n,!1),!0}),i;case this.XML_CHAMP_PROP_NUM_BOUTONCALENDRIER:return f=r.nextElementSibling,clWDUtil.bBaliseEstTag(f,"div")&&clWDUtil.SetDisplay(f,i),i;case this.XML_CHAMP_PROP_NUM_ETAT:return f=r.nextElementSibling,clWDUtil.bBaliseEstTag(f,"div")&&clWDAJAXMain._AppliqueAttributEtat(u,f.firstElementChild,i,!0),i;default:return i}},n.prototype.MAJContenuCalendrier=function(n,t){var i=this.GetValeur(n,t.value,t),r;r=i===this.m_sFormatAffichage||""===i?"":clWDUtil.sChaineVersDate(t.value,this.m_sFormatAffichage);this.m_oObjetChampCalendrier.OnChangeSaisie(n,r,t)},n.prototype.OnChange=function(n,t,i){if(!this.m_bChangeDepuisCalendrier){!t&&n&&(t=clWDUtil.oGetTarget(n));try{var r=this.m_bDepuisOnChange;this.m_bDepuisOnChange=i;this.MAJContenuCalendrier(n,t)}finally{this.m_bDepuisOnChange=r}}},n.prototype.OnChangeCalendrier=function(n,t,i){var r,u;if(this.bGestionTableZR()&&(r=document.getElementsByName(i.name),1===r.length&&(i=r[0],window.WDTableZRNavigateur&&this.oGetTableZRParent()instanceof WDTableZRNavigateur&&(n=n?clWDUtil.oCloneObjet(n):{},n.target=i))),t=clWDUtil.sDateVersChaine(t,this.m_sFormatAffichage),t=this.SetValeur(n,t,i),i.value=t,!this.m_bDepuisOnChange)try{u=this.m_bChangeDepuisCalendrier;this.m_bChangeDepuisCalendrier=!0;i.onchange(n)}finally{this.m_bChangeDepuisCalendrier=u}},n.prototype.GetValeur=function(n,t){return t},n.prototype.SetValeur=function(n,t,i){return WDChamp.prototype.SetValeur.apply(this,arguments),window.$&&$(i).trigger("trigger.wb.saisie.rwd.postaffectation"),t},n.prototype.__PlaceIndication=function(n){n.placeholder=this.m_sIndication},n}()