/*! 29.0.1.0 */
/*! VersionVI: 01A302032    */
function WDAPBase(){arguments.length&&(WDChampParametresHote.prototype.constructor.apply(this,arguments),this.m_oVue=null,this.m_bBloqueClicSuivant=!1,this.m_oParametresResizeVisible=null,this.m_nBloqueOnResize=0,this.m_bCreeConteneurs=!1,this.m_tabConteneurs=[])}function WDVueAPBase(n,t){if(arguments.length){this.m_oChampAP=n;this.m_oStyle=t?t.m_oStyle:new WDStyleCache(!0);this._vInitInitiale();var i=this;this.m_fOnRendezVousSupprime=function(n){i.m_oChampAP.OnRendezVousSupprime(n||event)};this.m_fOnDefilementCorps=function(n){i.__OnDefilementCorps(n||event)};this.m_fOnDefilementCorpsMolette=function(n){i.__OnDefilementCorpsMolette(n||event)};bTouch&&(this.m_fOnDefilementTouchTitreH=function(n,t,r){i.__OnDefilementTouchTitre(n,0,r)},this.m_fOnDefilementTouchTitreV=function(n,t,r){i.__OnDefilementTouchTitre(0,t,r)})}}function WDVueAPVerticale(){arguments.length&&WDVueAPBase.prototype.constructor.apply(this,arguments)}function WDVueAPHorizontale(){arguments.length&&WDVueAPBase.prototype.constructor.apply(this,arguments)}function WDDragAP(n,t,i){n!==undefined&&(WDDrag.prototype.constructor.apply(this,[n,t]),this.m_oChamp=i)}function WDDragRendezVous(n){arguments.length&&WDDragAP.prototype.constructor.apply(this,[250,50,n])}function WDDragPeriodeSelect(n){arguments.length&&WDDragAP.prototype.constructor.apply(this,[250,0,n])}function WDPopupSaisiePlanning(n){arguments.length&&WDPopupSaisie.prototype.constructor.apply(this,[n,!0])}function WDRendezVous(n,t){WDTypeAvance.prototype.constructor.apply(this,[!0]);n&&t&&(this.m_oChamp=n,this.m_oRendezVous=t)}function WDRepetition(){WDTypeAvance.prototype.constructor.apply(this,[!0])}WDAPBase.prototype=new WDChampParametresHote;WDAPBase.prototype.constructor=WDAPBase;WDAPBase.prototype.ms_sActionAgendaRdvDeplacement="AGENDARDVDEP";WDAPBase.prototype.ms_sActionAgendaRdvRedim="AGENDARDVRED";WDAPBase.prototype.ms_sActionAgendaRdvSupprime="AGENDARDVSUP";WDAPBase.prototype.ms_sActionAgendaRdvAjoute="AGENDARDVAJO";WDAPBase.prototype.ms_sActionAgendaRdvModifTitre="AGENDARDVEDT";WDAPBase.prototype.ms_sActionAgendaPeriodeAffiche="AGENDAPERAFF";WDAPBase.prototype.Init=function(){WDChampParametresHote.prototype.Init.apply(this,arguments);this.__Reinit(!1,!0,undefined);this.ConstruitParam()};WDAPBase.prototype.SetProp=function(n,t,i){switch(n){case this.XML_CHAMP_PROP_NUM_ETAT:return this.m_oParametres.m_bActif=0==i,i;default:return WDChampParametresHote.prototype.SetProp.apply(this,arguments)}};WDAPBase.prototype.OnDisplay=function(n,t){if(WDChampParametresHote.prototype.OnDisplay.apply(this,arguments),t&&this.m_oHote&&clWDUtil.bEstFils(this.m_oHote,n)){var i=null==this.m_oVue;this.__Reinit(!1,i,undefined)}};WDAPBase.prototype._vOnResize=function(){(WDChampParametresHote.prototype._vOnResize.apply(this,arguments),this.m_oVue)&&(this.m_oVue.m_bDansGetDefilement||(new Date).getTime()-this.m_nBloqueOnResize<750||clWDUtil.bEstDisplay(this.m_oHote,document,!0)&&this.__OnResizeVisible())};WDAPBase.prototype.__OnResizeVisible=function(){var t=this.m_oHote,r,i;if(this.bGetTimeXXXExiste("__ReinitSurOnResize"))t.style.opacity="0.5";else{var n={},t=this.m_oHote,u=t.parentNode;if(!u)return;r=u.getBoundingClientRect();n.m_nLargeur=r.right-r.left;n.m_nHauteur=r.bottom-r.top;i=this.m_oVue.m_oDimensionsHoteParent;i&&(n.m_nLargeur!=i.right-i.left&&(n.m_nLargeur=0),n.m_nHauteur!=i.bottom-i.top&&(n.m_nHauteur=0));n.m_sParentHotePosition=u.style.position;u.style.position="relative";n.m_sHotePosition=t.style.position;t.style.position="absolute";n.m_sHoteOpacity=t.style.opacity;n.m_sHoteLeft=t.style.left;t.style.left="0";n.m_sHoteTop=t.style.top;t.style.top="0";n.m_oParametres=this.m_oParametres;n.m_oOldDonnees=this.m_oOldDonnees;n.m_nDimensionPxGraduation=this.m_oVue.vnGetDimensionPxGraduation(this.m_oParametres);this.m_oParametresResizeVisible=n}this.nSetTimeoutUnique("__ReinitSurOnResize",clWDUtil.ms_nTimeoutNonImmediat100)};WDAPBase.prototype.__ReinitSurOnResize=function(){var n=this.m_oParametresResizeVisible,t,r,i;(this.m_oParametresResizeVisible=null,t=this.m_oHote,r=t.parentNode,r)&&(i=r.getBoundingClientRect(),r.style.position=n.m_sParentHotePosition,t.style.position=n.m_sHotePosition,t.style.opacity=n.m_sHoteOpacity,t.style.left=n.m_sHoteLeft,t.style.top=n.m_sHoteTop,(i.right-i.left!=n.m_nLargeur||i.bottom-i.top!=n.m_nHauteur)&&(this.m_oVue.HTMLVideContenuSurOnResize(n.m_oParametres,n.m_oOldDonnees),this.__Reinit(!0,!1,n.m_nDimensionPxGraduation)))};WDAPBase.prototype._vsConstruitParam=function(){var n=[],i=WDChampParametresHote.prototype._vsConstruitParam.apply(this,arguments),r,t;return i&&n.push(i),n.push(this.m_oParametres.m_oDateDebut.getTime()+""),this.m_oVue&&this.m_oVue.m_nDefilementPrincipal?(r=this.m_oVue.oGetDateFromPosAlignResolution(this.m_oParametres,this.m_oVue.m_nDefilementPrincipal,!1,0,0,!1),n.push(r.getTime()+"")):n.push(this.m_oParametres.m_oDateDebut.getTime()+""),t=arguments.length>=1?arguments[0]:this.oGetRendezVousSelection(),t?n.push(this._sConstruitParamObjet(t)):n.push(""),n.join(",")};WDAPBase.prototype._voFusionneDonne=function(n){var h,f,l;WDChampParametresHote.prototype._voFusionneDonne.apply(this,arguments);for(var e=[],o=this.m_oDonnees.m_tabRendezVous,s=n.m_tabRendezVous,c=s.length,r,i,u,t=0;t<c;t++)r=s[t],h=this.nGetRendezVousConteneur(r),f=this.__nTrouveRendezVous(r),clWDUtil.nElementInconnu!=f&&(i=o[f],r.m_oRendezVousPrecedent=i,l=this.nGetRendezVousConteneur(i),h!=l&&(e[l]=!0),u=this.nGetRendezVousConteneurPrecedent(i),undefined!==u&&h!=u&&(e[u]=!0),o.splice(f,1)),e[h]=!0;for(t=0;t<c;t++)while(clWDUtil.nElementInconnu!=(f=this.__nTrouveRendezVous(s[t])))i=o[f],e[this.nGetRendezVousConteneur(i)]=!0,u=this.nGetRendezVousConteneurPrecedent(i),undefined!=u&&(e[u]=!0),this.m_oVue.__HTMLVideUnRendezVous(i),o.splice(f,1);for(s.sort(this.__s_TriSelonIndice),t=0;t<c;t++)r=s[t],o.splice(r.m_nIndice,0,r);return e};WDAPBase.prototype.__s_TriSelonIndice=function(n,t){return n.m_nIndice-t.m_nIndice};WDAPBase.prototype._vAppliqueParametres=function(n){WDChampParametresHote.prototype._vAppliqueParametres.apply(this,arguments);this.__Reinit(!1,!0,undefined,n);this.ConstruitParam()};WDAPBase.prototype.__Reinit=function(n,t,i,r){this.__TrouveSelection();var u=t&&!r;if(!clWDUtil.bEstDisplay(this.m_oHote,document)){this.m_bCreeConteneurs|=u;return}(u||this.m_bCreeConteneurs)&&(this.m_bCreeConteneurs=!1,this.m_tabConteneurs=this._vtabCreeConteneurs());null==this.m_oVue?(this.__InitEvents(),this.__AlloueVue(),n=!0):this.m_oVue.constructor!=this._voGetClasseVue()&&(this.m_oVue.DetacheEvenement(),this.m_oVue.__HTMLVideContenu(this.m_oParametres,this.m_oOldDonnees,!1),this.__AlloueVue(),n=!0);this.m_oVue.HTMLAfficheContenu(n,t,i,r,this.m_oParametres,this.m_oDonnees,this.m_oOldDonnees);this.m_oVue.__CalculeDimensionClientCorps();this.m_oOldDonnees=this.m_oDonnees;this.m_tabOldConteneurs=this.m_tabConteneurs;r&&this.BloqueClicSuivant()};WDAPBase.prototype.__InitEvents=function(){this.m_oDragRendezVous=new WDDragRendezVous(this);this.m_oDragPeriodeSelect=new WDDragPeriodeSelect(this);this.m_oPopupSaisie=new WDPopupSaisiePlanning(this)};WDAPBase.prototype.__AlloueVue=function(){this.m_oVue=new(this._voGetClasseVue())(this,null);this.m_oVue.HTMLAfficheBase(this.m_oHote,!0,this.m_oParametres)};WDAPBase.prototype.bOnRendezVousSelection=function(n,t){var i;switch(this.__eMemeRendezVous(this.oGetRendezVousSelection(),t)){case 2:i=!1;break;case 1:return this.m_oRendezVousSelection=t,!0;case 0:i=!0}return i&&!this.__bAppelPCodeConstruitParam(this.ms_nEventNavAgendaRdvSelection,undefined,n,t)?!1:(this.m_oVue.__HTMLVideRendezVousSelection(this.m_oParametres),this.m_oRendezVousSelection=t,this.m_oVue.__HTMLAfficheRendezVousSelection(n,this.m_oParametres,!0),this.m_oVue.__HTMLAfficheRendezVousSelectionApresAffichage(n,this.m_oParametres),!0)};WDAPBase.prototype.__bEditionRendezVous=function(n,t){var i=this.m_oParametres,r;return i.m_bEditionRendezVous&&i.m_bActif&&this.__bAppelPCode(this.ms_nEventNavAgendaRdvEdition,undefined,n,t)?(r=!1!==i.m_bAfficherTitreRendezVous?t.m_sTitre:t.m_sContenu,this.m_oPopupSaisie.Debut(n,t.m_oDiv,t.m_oDiv,0,(i.m_oStyleRendezVousSelect.m_nBordureV||0)*2,!1,r,null,undefined,[t]),!0):!1};WDAPBase.prototype.bOnRendezVousDoubleClic=function(n,t){return this.__bEditionRendezVous(n,t)&&bTouch?clWDUtil.bStopPropagation(n):!0};WDAPBase.prototype.OnRendezVousValideSaisie=function(n,t,i){var r=t.m_sTitre;i!=r&&(t.m_sTitre=i,this.__bAppelPCodeConstruitParam(this.ms_nEventNavAgendaRdvModifTitre,this.ms_sActionAgendaRdvModifTitre,n,t)||(t.m_sTitre=r))};WDAPBase.prototype.OnRendezVousSupprime=function(n){var t=this.oGetRendezVousSelection();this.__bAppelPCodeConstruitParam(this.ms_nEventNavAgendaRdvSupprime,this.ms_sActionAgendaRdvSupprime,n,t)};WDAPBase.prototype.__OnAffichePeriodePrecedente=function(n){this.m_oParametres.m_oDateDebutPrecedente&&this.__OnAffichePeriode(n,this.m_oParametres.m_oDateDebutPrecedente)};WDAPBase.prototype.__OnAffichePeriodeSuivante=function(n){this.m_oParametres.m_oDateDebutSuivante&&this.__OnAffichePeriode(n,this.m_oParametres.m_oDateDebutSuivante)};WDAPBase.prototype.__OnAffichePeriode=function(n,t){var i=this.m_oParametres.m_oDateDebut;this.m_oParametres.m_oDateDebut=t;this.__bAppelPCodeConstruitParam(this.ms_nEventNavAgendaPeriodeAffiche,this.ms_sActionAgendaPeriodeAffiche,n);this.m_oParametres.m_oDateDebut=i};WDAPBase.prototype.OnRendezVousRedimensionne=function(n,t,i){this.__bOnRendezVousDeplacement(n,t,i)};WDAPBase.prototype.OnRendezVousDeplacement=function(n,t,i,r){this.__bOnRendezVousDeplacement(n,t,i,r)};WDAPBase.prototype.__bOnRendezVousDeplacement=function(n,t,i,r){var u=this.oGetRendezVousSelection(),s,h,e=this.nGetRendezVousConteneur(u),f,o,c;if(r!==undefined?(s=this.ms_nEventNavAgendaRdvDeplacement,h=this.ms_sActionAgendaRdvDeplacement):(s=this.ms_nEventNavAgendaRdvRedim,h=this.ms_sActionAgendaRdvRedim,r=e),f=u.m_oDateDebut,o=u.m_oDateFin,u.m_oDateDebut=this.m_oVue.oGetDateFromPosAlignResolution(this.m_oParametres,t,!0,r,clWDUtil.nGetHeureJour(f),!0),u.m_oDateFin=this.m_oVue.oGetDateFromPosAlignResolution(this.m_oParametres,t+i,!1,r,clWDUtil.nGetHeureJour(o),!0),u.m_bJourneeEntiere&&(c=u.m_oDateDebut.getTime(),u.m_oDateDebut.setUTCHours(f.getUTCHours()),u.m_oDateDebut.setUTCMinutes(f.getUTCMinutes()),u.m_oDateDebut.setUTCSeconds(f.getUTCSeconds()),u.m_oDateDebut.setUTCMilliseconds(f.getUTCMilliseconds()),u.m_oDateFin.setTime(u.m_oDateFin.getTime()-(c-u.m_oDateDebut.getTime()))),this._vChangeRendezVousConteneur(u,r,0),r!=e)if(this.__bAppelPCode(this.ms_nEventNavPlanningRdvDeplacementRessource,undefined,n,u))u.m_nConteneurPrecedent=e;else return u.m_oDateDebut=f,u.m_oDateFin=o,this._vChangeRendezVousConteneur(u,e,r),!1;return this.__bAppelPCodeConstruitParam(s,h,n,u)?!0:(u.m_oDateDebut=f,u.m_oDateFin=o,r!==undefined&&(this._vChangeRendezVousConteneur(u,e,r),delete u.m_nConteneurPrecedent),!1)};WDAPBase.prototype.OnRendezVousAjoute=function(n,t,i,r,u){var f=this.m_oVue.oGetDateFromPosAlignResolution(this.m_oParametres,t,!0,r,0,!0),e=this.m_oVue.oGetDateFromPosAlignResolution(this.m_oParametres,t+i,!1,r,0,!0);this.OnRendezVousAjouteDate(n,f,e,r,u)};WDAPBase.prototype.OnRendezVousAjouteSur1Heure=function(n,t,i,r){var e=this.m_oVue._vbJourneeEntiere(this.m_oParametres,r),u=this.m_oVue.oGetDateFromPosAlignResolution(this.m_oParametres,t,!0,i,0,!1),f;u.setMinutes(0,0,0);e&&u.setUTCHours(0);f=new Date;f.setTime(u.getTime()+(e?86399999:Math.max(36e5,this.m_oParametres.m_nResolutionTaille)));this.OnRendezVousAjouteDate(n,u,f,i,r)};WDAPBase.prototype.OnRendezVousAjouteDate=function(n,t,i,r,u){var f={m_oDateDebut:t,m_oDateFin:i,m_sTitre:"",m_sContenu:"",m_bJourneeEntiere:u&&!!this.m_oParametres.m_nHauteurZoneJourneeComplete};this._vChangeRendezVousConteneur(f,r,0);this.__bAppelPCodeConstruitParam(this.ms_nEventNavAgendaRdvAjoute,this.ms_sActionAgendaRdvAjoute,n,f)};WDAPBase.prototype.bOnPeriodeSelect=function(n){return this.__bAppelPCode(this.ms_nEventNavAgendaPeriodeSelect,undefined,n)?!0:!1};WDAPBase.prototype.__OnDefilementCorps=function(){return this.m_oVue.__OnDefilementCorps.apply(this.m_oVue,arguments)};WDAPBase.prototype.BloqueClicSuivant=function(){this.m_bBloqueClicSuivant=!0;this.nSetTimeoutUnique("__DebloqueClicSuivant",clWDUtil.ms_nTimeoutNonImmediat100)};WDAPBase.prototype.__DebloqueClicSuivant=function(){this.m_bBloqueClicSuivant=!1};WDAPBase.prototype.bGetBloqueClicSuivant=function(){return this.m_bBloqueClicSuivant};WDAPBase.prototype._tabGetConteneurs=function(n){return n?this.m_tabOldConteneurs:this.m_tabConteneurs};WDAPBase.prototype._nGetNbConteneurs=function(n){return this._tabGetConteneurs(n).length};WDAPBase.prototype._oGetConteneur=function(n,t){return this._tabGetConteneurs(n)[t]};WDAPBase.prototype._sGetNomConteneur=function(n,t){const i=this._oGetConteneur(!1,n);return t&&undefined!==i.m_sNomLogique?i.m_sNomLogique:i.m_sNomAffiche};WDAPBase.prototype.nGetRendezVousConteneur=function(n){return undefined===n.m_nConteneur&&(n.m_nConteneur=this._vnGetRendezVousConteneur(n)),n.m_nConteneur};WDAPBase.prototype.nGetRendezVousConteneurPrecedent=function(n){return n.m_nConteneurPrecedent};WDAPBase.prototype._vChangeRendezVousConteneur=function(n,t){n.m_nConteneur=t};WDAPBase.prototype.oGetRendezVousSelection=function(){return this.m_oRendezVousSelection&&this.m_oRendezVousSelection.m_oRendezVousPrecedent?this.m_oRendezVousSelection.m_oRendezVousPrecedent:this.m_oRendezVousSelection};WDAPBase.prototype.__TrouveSelection=function(){this.m_oRendezVousSelection=null;delete this.m_oRendezVousSelection;var n=this.__nTrouveRendezVousID(this.m_oParametres.m_sIDSelection);clWDUtil.nElementInconnu!=n&&(this.m_oRendezVousSelection=this.m_oDonnees.m_tabRendezVous[n])};WDAPBase.prototype.__nTrouveRendezVous=function(n){return this.__nTrouveRendezVousID(n.m_sID)};WDAPBase.prototype.__nTrouveRendezVousID=function(n){return clWDUtil.nDansTableauFct(this.m_oDonnees.m_tabRendezVous,this.__s_bCompareRendezVous,n)};WDAPBase.prototype.__s_bCompareRendezVous=function(n,t){return n.m_sID==t};WDAPBase.prototype.__eMemeRendezVous=function(n,t){return n==t?1:n&&t&&n.m_sID==t.m_sID?n.m_oDateDebut.getTime()==t.m_oDateDebut.getTime()?1:2:0};WDAPBase.prototype.nGetConteneurDepuisPosition=function(n,t,i){if(clWDUtil.bEstFils(n,this.m_oVue.oGetConteneurDiv(this.m_oParametres,t,i)))return t;for(var u=this._nGetNbConteneurs(!1),r=0;r<u;r++)if(clWDUtil.bEstFils(n,this.m_oVue.oGetConteneurDiv(this.m_oParametres,r,i)))return r;return t};WDAPBase.prototype.__bAppelPCodeConstruitParam=function(n,t,i,r){return r?this.ConstruitParam(r):this.ConstruitParam(),this.__bAppelPCode(n,t,i,r)};WDAPBase.prototype.__bAppelPCode=function(n,t,i,r){var u=this.RecuperePCode(n)(i,t,r?new WDRendezVous(this,r):undefined);return u===undefined||u===!0?!0:u===!1?!1:u!=!1};WDVueAPBase.prototype.ms_sNomGeneral="WDPLN-ZoneGenerale";WDVueAPBase.prototype.ms_sNomBoutonsPeriode="WDPLN-ZoneBoutonsPeriode";WDVueAPBase.prototype.ms_sNomTitresHorizontal="WDPLN-ZoneTitresHorizontal";WDVueAPBase.prototype.ms_sNomTitresVertical="WDPLN-ZoneTitresVertical";WDVueAPBase.prototype.ms_sNomCorps="WDPLN-ZoneCorps";WDVueAPBase.prototype.ms_sNomCorpsTitreSeulIndependant="WDPLN-ZoneCorpsTitreSeulIndependant";WDVueAPBase.prototype.ms_sNomTitresConteneurs="WDPLN-TitresConteneurs";WDVueAPBase.prototype.ms_sNomTitresConteneursCellule="WDPLN-TitresConteneursCellule";WDVueAPBase.prototype.ms_sNomTitresSecondaires="WDPLN-TitresSecondaires";WDVueAPBase.prototype.ms_sNomConteneur="WDPLN-Conteneur";WDVueAPBase.prototype.ms_sNomConteneurTitreSeul="WDPLN-ConteneurTitreSeul";WDVueAPBase.prototype.ms_sNomConteneurRendezVous="WDPLN-ConteneurRendezVous";WDVueAPBase.prototype.ms_sNomJour="WDPLN-Jour";WDVueAPBase.prototype.ms_sNomJourLigneSupplementaire="WDPLN-JourLigneSupplementaire";WDVueAPBase.prototype.ms_sNomJourneeComplete="WDPLN-JourneeComplete";WDVueAPBase.prototype.ms_sNomJourneeNonComplete="WDPLN-JourneeNonComplete";WDVueAPBase.prototype.ms_sPaddingCompatible="WDPLN-PaddingCompatible";WDVueAPBase.prototype.ms_sNomPremier="WDPLN-Premier";WDVueAPBase.prototype.ms_sNomCorpsQuadrillage="WDPLN-ZoneCorpsQuadrillage";WDVueAPBase.prototype.ms_sNomCorpsDimensionTotale="WDPLN-ZoneCorpsDimensionTotale";WDVueAPBase.prototype.ms_sNomRendezVousExterne="WDPLN-RendezVousExterne";WDVueAPBase.prototype.ms_sNomRendezVous="WDPLN-RendezVous";WDVueAPBase.prototype.ms_sNomRendezVousSelect="WDPLN-RendezVousSelect";WDVueAPBase.prototype.ms_sNomRendezVousImage="WDPLN-RendezVousImage";WDVueAPBase.prototype.ms_sNomRendezVousTitre="WDPLN-RendezVousTitre";WDVueAPBase.prototype.ms_sNomRendezVousTitreSeul="WDPLN-RendezVousTitreSeul";WDVueAPBase.prototype.ms_sNomRendezVousSupprime="WDPLN-RendezVousSupprime";WDVueAPBase.prototype.ms_sNomRendezVousRepetition="WDPLN-RendezVousRepetition";WDVueAPBase.prototype.ms_sNomRendezVousImportance="WDPLN-RendezVousImportance";WDVueAPBase.prototype.ms_sNomRendezVousRedimDebut="WDPLN-RendezVousRedimDebut";WDVueAPBase.prototype.ms_sNomRendezVousRedimDebutBefore=WDVueAPBase.prototype.ms_sNomRendezVousRedimDebut+":before";WDVueAPBase.prototype.ms_sNomRendezVousRedimFin="WDPLN-RendezVousRedimFin";WDVueAPBase.prototype.ms_sNomRendezVousRedimFinAfter=WDVueAPBase.prototype.ms_sNomRendezVousRedimFin+":after";WDVueAPBase.prototype.ms_sNomFondCouleur="WDPLN-FondCouleur";WDVueAPBase.prototype.ms_sNomFondBordure="WDPLN-FondBordure";WDVueAPBase.prototype.ms_sNomHeure="WDPLN-Heure";WDVueAPBase.prototype.ms_sNomHeureDemi="WDPLN-HeureDemi";WDVueAPBase.prototype.ms_sNomHeureLibelle="WDPLN-HeureLibelle";WDVueAPBase.prototype.ms_tabHeureSuffixe=["Normal","HorsBornes","Aujourdhui","Samedi","Dimanche","Ferie","HorsMois"];WDVueAPBase.prototype.ms_sSuffixePair="Pair";WDVueAPBase.prototype.ms_nZIndexFondSecondaire=0;WDVueAPBase.prototype.ms_nZIndexFondConteneur=1;WDVueAPBase.prototype.ms_nZIndexFondBordureSecondaire=2;WDVueAPBase.prototype.ms_nZIndexRendezVous=4;WDVueAPBase.prototype.ms_nZIndexRendezVousSelection=5;WDVueAPBase.prototype.ms_nZIndexFondRupture=6;WDVueAPBase.prototype.ms_nZIndexRendezVousSupprime=7;WDVueAPBase.prototype.ms_nZIndexFantome=8;WDVueAPBase.prototype.ms_nPaddingTitre=2;WDVueAPBase.prototype.ms_nPaddingTitreCalcul=2*WDVueAPBase.prototype.ms_nPaddingTitre;WDVueAPBase.prototype.ms_nPaddingRendezVous=3;WDVueAPBase.prototype.ms_nPaddingLateralDebut=1;WDVueAPBase.prototype.ms_nPaddingLateralFin=5;WDVueAPBase.prototype.ms_eSuperpositionCoteACote=0;WDVueAPBase.prototype.ms_eSuperpositionDecalage=1;WDVueAPBase.prototype.ms_sSeparateurFormatLigne="|";WDVueAPBase.prototype.ms_tabImageDefaut={ms_sImageVide:"vide.gif",ms_sImageSupprime:"pl_delete.gif",ms_sImageRepetition:"pl_rdvrepete.gif",ms_sImageImportance:"pl_rdvimportant.png",ms_sImagePeriodePrecedente:"MoisP.gif",ms_sImagePeriodeSuivante:"MoisS.gif"};WDVueAPBase.prototype.ms_bZoneTitreSeulIndependanteExterne=!1;WDVueAPBase.prototype.ms_bLibelleParGraduation=!1;WDVueAPBase.prototype.ms_bReordonneGraduationAffichage=!1;WDVueAPBase.prototype._vInitInitiale=function(){var t,i,r,n;WDVueAPBase.prototype.ms_oFeuilleStyleGlobale=clWDUtil.oCreeFeuilleStyle();this.__StyleCreeGlobal("."+this.ms_sNomBoutonsPeriode,["overflow:hidden"]);this.__StyleCreeGlobal("."+this.ms_sNomTitresHorizontal,["overflow:hidden"]);this.__StyleCreeGlobal("div."+this.ms_sNomTitresVertical,["overflow:hidden","z-index:"+this.ms_nZIndexFondRupture]);t=["padding-left:"+this.ms_nPaddingTitre+"px","padding-right:"+this.ms_nPaddingTitre+"px","text-overflow:ellipsis","white-space:nowrap","overflow:hidden"];this.__StyleCreeGlobal("."+this.ms_sNomTitresHorizontal+" div",t);this.__StyleCreeGlobal("."+this.ms_sNomTitresVertical+" div",t.concat(["display:table","border-collapse:separate"]).concat(this.ms_tabStyleBoxSizingTitresVerticaux));this.__StyleCreeGlobal("."+this.ms_sNomRendezVousExterne,["overflow:hidden","box-sizing:border-box"]);i=["list-style:none","padding:0","margin:0","display:flex","flex-direction:column","position:relative"];bEdge&&i.push("cursor:default");this.__StyleCreeGlobal("."+this.ms_sNomRendezVousExterne+" ul",i);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousExterne+" ul li:first-child",["min-height:fit-content"]);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousExterne+" li",["overflow:hidden"]);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousTitreSeul,["display:flex","flex-direction:column","justify-content:center"]);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousImage,["background-position:bottom left","background-repeat:no-repeat"]);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousTitre,["text-overflow:ellipsis","white-space:nowrap"]);this.__StyleCreeGlobal("."+this.ms_sPaddingCompatible+" ."+this.ms_sNomRendezVousTitre,["padding-bottom:2px"]);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousSupprime,["z-index:"+this.ms_nZIndexRendezVousSupprime,"position:absolute"]);r=["content:''","display: block","position: absolute","z-index:1"];this.__StyleCreeGlobal("."+this.ms_sNomRendezVousRedimDebutBefore,r);this.__StyleCreeGlobal("."+this.ms_sNomRendezVousRedimFinAfter,r);this.__StyleCreeGlobal("."+this.ms_sNomCorps+" div."+this.ms_sNomConteneur,["z-index:"+this.ms_nZIndexFondConteneur,"position:absolute"]);this.__StyleCreeGlobal("."+this.ms_sNomConteneurTitreSeul,["z-index:"+this.ms_nZIndexRendezVous,"position:relative"]);this.__StyleCreeGlobal("."+this.ms_sNomConteneurRendezVous,["z-index:"+this.ms_nZIndexRendezVous,"position:relative"]);this.__StyleCreeGlobal("."+this.ms_sNomFondCouleur,["z-index:"+this.ms_nZIndexFondSecondaire,"position:absolute"]);this.__StyleCreeGlobal("."+this.ms_sNomFondCouleur+" div",["z-index:0"]);this.__StyleCreeGlobal("."+this.ms_sNomFondBordure,["z-index:"+this.ms_nZIndexFondBordureSecondaire,"position:absolute"]);this.__StyleCreeGlobal("."+this.ms_sNomHeureDemi,["position:absolute"]);for(n in this.ms_tabImageDefaut)this.ms_tabImageDefaut.hasOwnProperty(n)&&(WDVueAPBase.prototype[n]=clWDUtil.sCheminImageRes(undefined,this.ms_tabImageDefaut[n]));WDVueAPBase.prototype._vInitInitiale=clWDUtil.m_pfVide};WDVueAPBase.prototype.__oGetElementById=function(n){return this.m_oChampAP.oGetElementById(document,n)};WDVueAPBase.prototype.__sGetSuffixeIDElement=function(){return this.m_oChampAP.sGetSuffixeIDElement.apply(this.m_oChampAP,arguments)};WDVueAPBase.prototype.__sGetNomElement=function(n){return this.m_oChampAP.sGetNomElement(n)};WDVueAPBase.prototype.oGetConteneurDiv=function(n,t,i){return this.__oGetElementById(this._sGetIDConteneur(n,t,i))};WDVueAPBase.prototype._sGetIDConteneur=function(n,t,i){return this.__sGetSuffixeIDElement(i&&0<this._vnGetHauteurZoneTitreSeulIndependante(n)?this.ms_sNomConteneurTitreSeul:this.ms_sNomConteneur,t)};WDVueAPBase.prototype._vnGetHauteurZoneTitreSeulIndependante=function(n){return!n.m_nHauteurZoneJourneeComplete?0:n.m_nHauteurZoneJourneeComplete};WDVueAPBase.prototype._vnGetReductionLateraleRendezVousPourZoneTitreSeulIndependante=function(n){return this._vnGetHauteurZoneTitreSeulIndependante(n)};WDVueAPBase.prototype.DetacheEvenement=function(){clWDUtil.AttacheDetacheEvent(!1,this.m_oHoteCorps,"scroll",this.m_fOnDefilementCorps);this.m_oHoteTitresVertical&&!bTouch&&clWDUtil.AttacheDetacheEvent(!1,this.m_oHoteTitresVertical,bFF?"DOMMouseScroll":"mousewheel",this.m_fOnDefilementCorpsMolette,!1);bTouch&&(this.m_oDragTouchH&&this.m_oDragTouchH.Detache(),this.m_oDragTouchV&&this.m_oDragTouchV.Detache())};WDVueAPBase.prototype.HTMLAfficheBase=function(n,t,i){t?this.m_oHote=n:(this.DetacheEvenement(),clWDUtil.SupprimeFils(n));this.m_oStyle.Creation();this._vInitCSS(i);this.m_oStyle.CreationFlush();this.__HTMLAfficheBase(i);this.__CalculeDimensionClientCorps();this._vInitCSS_LibJour(i);this.m_oStyle.CreationFin();this.m_oHoteTitresHorizontal&&bTouch&&(this.m_oDragTouchH=new WDDragTouch(this.m_fOnDefilementTouchTitreH,this.m_oHoteTitresHorizontal));this.m_oHoteTitresVertical&&(bTouch&&(this.m_oDragTouchV=new WDDragTouch(this.m_fOnDefilementTouchTitreV,this.m_oHoteTitresVertical)),clWDUtil.AttacheDetacheEvent(!0,this.m_oHoteTitresVertical,bFF?"DOMMouseScroll":"mousewheel",this.m_fOnDefilementCorpsMolette,!1));clWDUtil.AttacheDetacheEvent(!0,this.m_oHoteCorps,"scroll",this.m_fOnDefilementCorps)};WDVueAPBase.prototype.__HTMLAfficheBase=function(n){var t=[],r,u,i,f,e;t.push('<table class="');t.push(this.ms_sNomGeneral);t.push(" ");t.push(this.ms_sNomGeneralSpecifique);t.push('">');t.push("<tr>");0<n.m_nLargeurTitresVertical&&(r=this.__sHTMLAfficheBaseTD(t,null,this.ms_sNomBoutonsPeriode));u=this.__sHTMLAfficheBaseTD(t,this._oGetStyleHorizontalDernier(n),this.ms_sNomTitresHorizontal);t.push("<\/tr><tr>");this.ms_bZoneTitreSeulIndependanteExterne&&this._vnGetHauteurZoneTitreSeulIndependante(n)&&(this.__sHTMLAfficheBaseTD(t,this._voGetStyleVertical(n),this.ms_sNomTitresVertical+"_"),i=this.__sHTMLAfficheBaseTD(t,null,this.ms_sNomCorpsTitreSeulIndependant),t.push("<\/tr><tr>"));0<n.m_nLargeurTitresVertical&&(f=this.__sHTMLAfficheBaseTD(t,this._voGetStyleVertical(n),this.ms_sNomTitresVertical));e=this.__sHTMLAfficheBaseTD(t,null,this.ms_sNomCorps);t.push("<\/tr><\/table>");this.m_oHote.innerHTML=t.join("");this.m_oHoteTitresHorizontal=this.__oGetElementById(u);this.m_oHoteCorps=this.__oGetElementById(e);0<n.m_nLargeurTitresVertical&&(this.m_oHoteBoutonsPeriode=this.__oGetElementById(r),this.m_oHoteTitresVertical=this.__oGetElementById(f));i&&(this.m_oHoteCorpsTitreSeulIndependant=this.__oGetElementById(i))};WDVueAPBase.prototype.__sHTMLAfficheBaseTD=function(n,t,i){var r=this.__sGetSuffixeIDElement(i);return n.push("<td"),t&&t.m_cFond&&(n.push(' style="background-color:'),n.push(t.m_cFond),n.push('"')),n.push(">"),this.__HTMLAfficheDiv(n,i,this.__sGetNomElement(r)),n.push("<\/td>"),r};WDVueAPBase.prototype.__HTMLAfficheDiv=function(n,t,i,r,u,f){n.push("<div");t&&(n.push(' class="'),n.push(t),n.push('"'));i&&(n.push(' id="'),n.push(i),n.push('"'));(u||f)&&(n.push(' style="'),u&&(n.push("background-color:"),n.push(u),n.push(";")),f&&n.push(f),n.push('"'));n.push(">");r&&n.push(r);n.push("<\/div>")};WDVueAPBase.prototype.__HTMLAfficheDivLibelle=function(n,t,i,r,u,f){var e,o=this.__sGetLibelleEnHTML(t,r);f?(e="display:flex",o='<span style="margin-top:auto;margin-bottom:auto">'+o+"<\/span>"):e="display:table-cell";isNaN(u)||(e+=";height:"+u+"px;min-height:"+u+"px;max-height:"+u+"px");this.__HTMLAfficheDiv(n,i,undefined,o,undefined,e)};WDVueAPBase.prototype.__sGetLibelleEnHTML=function(n,t){return n.m_bRessourcesLibelleHTML?t:clWDUtil.sEncodeInnerHTML(t,!0,!1)};WDVueAPBase.prototype.__CalculeDimensionCorps=function(n,t,i){this.m_nLargeurCorps=t-n.m_nLargeurTitresVertical;this.m_nHauteurCorps=i-n.m_nHauteurTitresHorizontal;this.m_oHote&&this.m_oHote.parentNode&&(this.m_oDimensionsHoteParent=this.m_oHote.parentNode.getBoundingClientRect())};WDVueAPBase.prototype.__CalculeDimensionClientCorps=function(){this.m_nLargeurClientCorps=this.__nGetClientWidth(this.m_oHoteCorps);this.m_nHauteurClientCorps=this.__nGetClientHeight(this.m_oHoteCorps);(this.m_nLargeurClientCorps<=1||this.m_nHauteurClientCorps<=1)&&(this.m_oHoteCorps.style.width="50px",this.m_oHoteCorps.style.height="50px",this.m_nLargeurClientCorps=Math.max(0,this.m_nLargeurCorps-(this.m_oHoteCorps.offsetWidth-this.__nGetClientWidth(this.m_oHoteCorps))),this.m_nHauteurClientCorps=Math.max(0,this.m_nHauteurCorps-(this.m_oHoteCorps.offsetHeight-this.__nGetClientHeight(this.m_oHoteCorps))),this.m_oHoteCorps.style.width="",this.m_oHoteCorps.style.height="")};WDVueAPBase.prototype._vInitCSS=function(n){var i=this.__nGetLargeur(),r=this.__nGetHauteur(),t,u;this.__CalculeDimensionCorps(n,i,r);this.__StyleCree(this.__sGetSelecteur(undefined,"",this.ms_sNomGeneral),["width:"+i+"px","height:"+r+"px"]);0<n.m_nLargeurTitresVertical&&this.__StyleCree(this.__sGetSelecteur(undefined,"div",this.ms_sNomBoutonsPeriode),["width:"+n.m_nLargeurTitresVertical+"px","height:"+n.m_nHauteurTitresHorizontal+"px"]);this.__StyleCree(this.__sGetSelecteur(undefined,"div",this.ms_sNomTitresHorizontal),["width:"+this.m_nLargeurCorps+"px","height:"+n.m_nHauteurTitresHorizontal+"px"]);this.__StyleCree(this.__sGetSelecteur(undefined,"table",this.ms_sNomTitresHorizontal),["height:"+n.m_nHauteurTitresHorizontal+"px"]);t=this.m_nHauteurCorps;this.ms_bZoneTitreSeulIndependanteExterne&&(t-=this._vnGetHauteurZoneTitreSeulIndependante(n));0<n.m_nLargeurTitresVertical&&(this.__StyleCree(this.__sGetSelecteur(undefined,"div",this.ms_sNomTitresVertical),["width:"+n.m_nLargeurTitresVertical+"px","height:"+t+"px"]),u=["width:"+n.m_nLargeurTitresVertical+"px","position:absolute"],this.__StyleCree(this.__sGetSelecteur(undefined,"table",this.ms_sNomTitresVertical),u));this.__StyleCree(this.__sGetSelecteur(undefined,"",this.ms_sNomCorps),["width:"+this.m_nLargeurCorps+"px","height:"+t+"px"]);this.__StyleCree(this.__sGetSelecteur(this.ms_sNomTitresHorizontal,"div",undefined),["height:"+n.m_nHauteurTitresHorizontal+"px"]);this.__StyleCree(this.__sGetSelecteur(this.ms_sNomTitresVertical," div",undefined),["width:"+(n.m_nLargeurTitresVertical-this.ms_nPaddingTitreCalcul)+"px"]);this._vInitCSS_TitresConteneurs(n);this._vInitCSS_TitresHeures(n);this.__InitCSS_Conteneurs(n);this.__InitCSS_RendezVous(n)};WDVueAPBase.prototype.__InitCSS_Resize=function(n){var t=this.__nGetLargeur(),i=this.__nGetHauteur();this.__CalculeDimensionCorps(n,t,i);this.__CalculeDimensionClientCorps();this.m_oStyle.CreationAjout();this.__StyleComplete(this.__sGetSelecteur(undefined,"",this.ms_sNomGeneral),["width:"+t+"px","height:"+i+"px"]);this.__StyleComplete(this.__sGetSelecteur(undefined,"div",this.ms_sNomTitresHorizontal),["width:"+this.m_nLargeurCorps+"px"]);this.__StyleComplete(this.__sGetSelecteur(undefined,"div",this.ms_sNomTitresVertical),["height:"+this.m_nHauteurCorps+"px"]);this.__StyleComplete(this.__sGetSelecteur(undefined,"",this.ms_sNomCorps),["width:"+this.m_nLargeurCorps+"px","height:"+this.m_nHauteurCorps+"px"]);this.m_oStyle.CreationFin()};WDVueAPBase.prototype.__InitCSS_MAJ_AJAX=function(n){0<n.m_nLargeurTitresVertical&&this.__StyleComplete(this.__sGetSelecteur(undefined,"div",this.ms_sNomBoutonsPeriode),["width:"+n.m_nLargeurTitresVertical+"px","height:"+n.m_nHauteurTitresHorizontal+"px"]);this.__StyleComplete(this.__sGetSelecteur(undefined,"div",this.ms_sNomTitresHorizontal),["height:"+n.m_nHauteurTitresHorizontal+"px"]);this.__StyleComplete(this.__sGetSelecteur(undefined,"table",this.ms_sNomTitresHorizontal),["height:"+n.m_nHauteurTitresHorizontal+"px"]);0<n.m_nLargeurTitresVertical&&(this.__StyleComplete(this.__sGetSelecteur(undefined,"div",this.ms_sNomTitresVertical),["width:"+n.m_nLargeurTitresVertical+"px"]),this.__StyleComplete(this.__sGetSelecteur(undefined,"table",this.ms_sNomTitresVertical),["width:"+n.m_nLargeurTitresVertical+"px"]));this.__StyleComplete(this.__sGetSelecteur(this.ms_sNomTitresHorizontal,"div",undefined),["height:"+n.m_nHauteurTitresHorizontal+"px"]);this.__StyleComplete(this.__sGetSelecteur(this.ms_sNomTitresVertical," div",undefined),["width:"+(n.m_nLargeurTitresVertical-this.ms_nPaddingTitreCalcul)+"px"])};WDVueAPBase.prototype.HTMLAfficheContenu=function(n,t,i,r,u,f,e){var o=!!r;o||n||this.__HTMLVideContenu(u,e,!1);undefined!==i&&(o||clWDUtil.SetDisplay(this.m_oHoteCorps,!0),this.__InitCSS_Resize(u),o||clWDUtil.SetDisplay(this.m_oHoteCorps,!1));this.__CorrigeParametres(u);o||(this.__InitPositionsHeures(u,f.m_tabSurcharges||[]),this.m_oStyle.CreationAjout(),t&&this.__InitCSS_MAJ_AJAX(u),this.__StyleComplete(this.__sGetSelecteur(undefined,"",this.ms_sNomCorpsDimensionTotale),[this.ms_sStyleDimension+":"+this.m_nDimensionPxZoneHeures+"px"]),this.__InitCSS_Heures(u),this.__InitCSS_Conteneurs(u),this._vInitCSS_TitresConteneurs(u),this._vInitCSS_TitresHeures(u),this.m_oStyle.CreationFin(),this.__HTMLAfficheBoutonsPeriode(u),this.__HTMLAfficheTitresHorizontal(u),this.__HTMLAfficheTitresVertical(u),this.__HTMLAfficheCorps(u));this.__HTMLAfficheRendezVous(r,u,f.m_tabRendezVous);this.__HTMLAfficheRendezVousSelection(null,u,!1);o||clWDUtil.SetDisplay(this.m_oHoteCorps,!0);this.__HTMLAfficheCorpsDefilement(o,u,i);this.__HTMLAfficheRendezVousSelectionApresAffichage(null,u);this.m_oChampAP.nSetTimeoutUnique("__OnDefilementCorps",clWDUtil.ms_oTimeoutImmediat)};WDVueAPBase.prototype.HTMLVideContenuSurOnResize=function(n,t){this.__HTMLVideContenu(n,t,!0);this.m_oStyle.CreationAjout();this.__StyleComplete(this.__sGetSelecteur(undefined,"",this.ms_sNomGeneral),["width:1px","height:1px"]);this.__StyleComplete(this.__sGetSelecteur(undefined,"",this.ms_sNomCorps),["width:1px","height:1px"]);this.m_oStyle.CreationFin();this.m_oHoteTitresHorizontal.style.width="1px";this.m_oHoteTitresVertical&&(this.m_oHoteTitresVertical.style.height="1px")};WDVueAPBase.prototype.__CorrigeParametres=function(n){if(undefined===n.m_nHeureAfficheMinOriginal){n.m_nResolutionGrille>=864e5?(this.m_nGraduationDureeMs=864e5,n.m_nHauteurLibJour=0,n.m_bZoneJourneeComplete=!1,n.m_nHauteurZoneJourneeComplete=0):this.m_nGraduationDureeMs=n.m_nResolutionGrille==432e5?864e5:36e5;var r,u,t,i;this.m_nGraduationDureeMs==36e5?(r=this.__nGetHeureArrondiDefaut(n.m_nHeureOuvrableMin),u=this.__nGetHeureArrondiExces(n.m_nHeureOuvrableMax),t=this.__nGetHeureArrondiDefaut(n.m_nHeureAfficheMin),i=this.__nGetHeureArrondiExces(n.m_nHeureAfficheMax)):(r=0,u=24,t=0,i=24);n.m_nHeureAfficheMinOriginal=t*36e5;n.m_nHeureAfficheMaxOriginal=i*36e5;this._vbAfficheTouteslesHeures(n)&&(t=0,i=24,n.m_oDateDebut.setUTCHours(0,0,0,0),n.m_oDateFin.setUTCHours(0,0,0,0),n.m_oDateFin.setTime(n.m_oDateFin.getTime()+864e5));n.m_nHeureOuvrableMin=r*36e5;n.m_nHeureOuvrableMax=u*36e5;n.m_nHeureAfficheMin=t*36e5;n.m_nHeureAfficheMax=i*36e5}};WDVueAPBase.prototype.__InitPositionsHeures=function(n,t){var w=n.m_nHeureOuvrableMin/36e5,b=n.m_nHeureOuvrableMax/36e5,k=n.m_nHeureAfficheMin/36e5,d=n.m_nHeureAfficheMax/36e5,r,f,i,h,p;this.m_nPositionAujourdhui=-1;r=new Date(n.m_oDateDebut);r.setUTCMinutes(0,0,0);for(var c=-1,e,u=0,l=!1,g=this.vnGetDimensionPxGraduation(n),nt=this.voGetDateFinAffichage(n),a,v,o,tt=this._vnGetNbGraduationsParalleles(n),s=!1,y=[];r<nt;r.setTime(r.getTime()+this.m_nGraduationDureeMs))(f=r.getUTCHours(),(0==f||c==-1)&&(c++,e=n.m_tabJours[c],e.m_bAujourdhui?(this.m_nPositionAujourdhui=u,o=!0):o=!1,u+=this._vnGetHauteurRuptureJour(n),this.ms_bReordonneGraduationAffichage?u=0:l=!0),f<k||f>=d)||(a=this._nGetHeureStyle(r.getUTCDay(),e,f,w,b),i={m_oDateDebut:new Date(r),m_nPosition:u,m_sClasses:this.__sGetGraduationClasses(a,o,s&&this.ms_bLibelleParGraduation),m_bAujourdhui:o},l&&(i.m_bRupture=!0,i.m_sRuptureLibelle=e.m_sLibelle,l=!1),v=o?2:a,h=n["m_oStyle"+this._sGetHeureSuffixe(v,s&&this.ms_bLibelleParGraduation)],i.m_sClassesHeure=h.m_sClasses,0<v&&(i.m_sCouleurFond=h.m_cFond),p=t[r.getTime()],undefined!==p&&(i.m_sCouleurFondSurcharge=p),n.m_nResolutionGrille>=864e5||n.m_nResolutionGrille==432e5&&!n.m_nHauteurLibJour?(i.m_sLibelle=e.m_sLibelle,i.m_sLibelleClasse=this.ms_bLibelleParGraduation?h.m_sClasses:n.m_oStyleLibJourSemaine.m_sClasses,i.m_sLibelleCouleurFond=n.m_oStyleLibJourSemaine.m_cFond):(i.m_sLibelle=n.m_nResolution!=432e5?this.__sHTMLAfficheFormateHeure(n,f):"",i.m_sLibelleClasse=n.m_oStyleLibHeure.m_sClasses),y.push(i),(0==y.length%tt||this.ms_bReordonneGraduationAffichage)&&(u+=g,s=!s));this.m_nDimensionPxZoneHeures=u;this.m_tabGraduations=y};WDVueAPBase.prototype._sGetHeureSuffixe=function(n,t){return this.ms_tabHeureSuffixe[n]+(t?this.ms_sSuffixePair:"")};WDVueAPBase.prototype.__sGetGraduationClasses=function(n,t,i){var r=[this.ms_sNomHeure];return r.push("WDPLN-"+this._sGetHeureSuffixe(n,i)),t&&r.push("WDPLN-"+this._sGetHeureSuffixe(2,i)),r.join(" ")};WDVueAPBase.prototype._nGetHeureStyle=function(n,t,i,r,u){if(t.m_bHorsPeriode)return 6;if(t.m_bFerie)return 5;if(undefined!==i&&(i<r||i>=u))return 1;switch(n){case 6:return 3;case 0:return 4;default:return 0}};WDVueAPBase.prototype.__sHTMLAfficheFormateHeure=function(n,t){return n.m_tabFormatHeure[t]};WDVueAPBase.prototype.__HTMLAfficheBoutonsPeriode=function(n){var r,t,i;this.m_oHoteBoutonsPeriode&&(r=(n.m_oDateDebutPrecedente?1:0)+(n.m_oDateDebutSuivante?1:0),0<r&&(t=[],i=Math.min(n.m_nHauteurTitresHorizontal,parseInt(n.m_nLargeurTitresVertical/r,10)),n.m_oStyleNormal.m_nBordureV&&(i-=n.m_oStyleNormal.m_nBordureV),t.push('<table width="100%" height="100%"><tr>'),n.m_oDateDebutPrecedente&&this.__HTMLAfficheUnBoutonPeriode(t,"__OnAffichePeriodePrecedente",n,i,n.m_sImageBtnPeriodePrecedente,this.ms_sImagePeriodePrecedente),n.m_oDateDebutPrecedente&&this.__HTMLAfficheUnBoutonPeriode(t,"__OnAffichePeriodeSuivante",n,i,n.m_sImageBtnPeriodeSuivante,this.ms_sImagePeriodeSuivante),i==n.m_nHauteurTitresHorizontal&&t.push('<td width="100%"/>'),t.push("<\/tr><\/table>"),this.m_oHoteBoutonsPeriode.innerHTML=t.join("")))};WDVueAPBase.prototype.__HTMLAfficheUnBoutonPeriode=function(n,t,i,r,u,f){n.push('<td vAlign="center" align="center" style="background-repeat: no-repeat; background-position: center center; background-image:');n.push(clWDUtil.sGetURICSS(clWDUtil.sGetCheminImage(u,f)));n.push('"');i.m_oStyleBtnSuivPrec&&i.m_oStyleBtnSuivPrec.m_sClasses&&(n.push(' class="'),n.push(i.m_oStyleBtnSuivPrec.m_sClasses),n.push('"'));n.push("><a href=\"javascript:{oGetObjetChamp('");n.push(this.m_oChampAP.m_sAliasChamp);n.push("').");n.push(t);n.push('();}"><img border="0" src="');n.push(this.ms_sImageVide);n.push('" width="');n.push(r);n.push('" height="');n.push(r);n.push('"><\/a><\/td>')};WDVueAPBase.prototype.__HTMLAfficheCorps=function(n){var f=this._vtabHTMLAfficheCorps(n,[]),t,u,i,r;for(this.m_oHoteCorps.innerHTML=f.join(""),u=this.m_oChampAP._nGetNbConteneurs(!1),t=0;t<u;t++)i=this.m_oChampAP._oGetConteneur(!1,t),i.m_oDiv=this.oGetConteneurDiv(n,t,!1),r=this.oGetConteneurDiv(n,t,!0),r&&(i.m_oDivTitreSeul=r),this.m_oChampAP.m_oDragPeriodeSelect.vInitElement(i,t,i.m_oDiv,r)};WDVueAPBase.prototype._vtabHTMLAfficheCorps=function(n,t){var tt=n.m_tabJours,y=n.m_nHauteurZoneJourneeComplete,p=this.m_tabGraduations,u,r,c=p.length,g=1,l=1,f,o,a,e,i,s,b,h,k,v,d;for(this.ms_bReordonneGraduationAffichage&&(l=this._vnGetNbGraduationsParalleles(n),g=c/l),f=this._veTableTrParRessource(),t.push("<table>"),a=this.m_oChampAP._nGetNbConteneurs(!1),o=0;o<a;o++){if(1===f?(t.push('<tr class="'),t.push(this.ms_sNomCorpsDimensionTotale),t.push('">')):0==o&&t.push("<tr>"),0!==f||0==o){if(t.push("<td "),0===f&&(t.push('colspan="'),t.push(this.m_oChampAP._nGetNbConteneurs(!1)),t.push('" ')),t.push('class="'),t.push(this.ms_sNomCorpsQuadrillage),t.push('">'),y&&1!==f){for(e=this.__tabHTMLAfficheCorpsHeureDebut(this.ms_sNomFondCouleur),i=this.__tabHTMLAfficheCorpsHeureDebut(this.ms_sNomFondBordure),u=0;u<c;u++)r=p[u],r.m_bRupture&&(this.__HTMLAfficheDiv(e,this.ms_sNomJourneeComplete),this.__HTMLAfficheDiv(i,this.ms_sNomJourneeComplete));t.push("<div>");e.push("<\/div>");t=t.concat(e);i.push("<\/div>");t=t.concat(i);t.push("<\/div>");t.push('<div class="');t.push(this.ms_sNomJourneeNonComplete);t.push('">')}else t.push("<div>");e=this.__tabHTMLAfficheCorpsHeureDebut(this.ms_sNomFondCouleur);i=this.__tabHTMLAfficheCorpsHeureDebut(this.ms_sNomFondBordure);var w=this.m_oChampAP._oGetConteneur(!1,o),nt=undefined!==w.m_cFond?w.m_cFond:undefined,it=w.m_tabSurcharges||[];for(u=0;u<c;u++){if(r=p[u%l*g+parseInt(u/l,10)],r.m_bRupture&&(n.m_nHauteurLibJour&&(this.__HTMLAfficheDiv(e,this.ms_sNomJour),this.__HTMLAfficheDiv(i,this.ms_sNomJour)),y&&!this.ms_bZoneTitreSeulIndependanteExterne&&0===f&&(this.__HTMLAfficheDiv(e,this.ms_sNomJourneeComplete),this.__HTMLAfficheDiv(i,this.ms_sNomJourneeComplete))),s=r.m_sCouleurFond,r.m_bAujourdhui&&""!==s&&"transparent"!==s||(undefined!==nt&&(s=nt),r.m_sCouleurFondSurcharge&&(s=r.m_sCouleurFondSurcharge),b=it[r.m_oDateDebut.getTime()],undefined!==b&&(s=b)),h=r.m_sClasses,h=h+(h?" ":"")+r.m_sClassesHeure,this.__HTMLAfficheDiv(e,h,undefined,undefined,s),i.push('<div class="'),this.ms_bLibelleParGraduation?(i.push(clWDUtil.sOptimiseClasses(r.m_sClasses+" "+r.m_sLibelleClasse)),i.push('" style="background-color:transparent')):(i.push(r.m_sClasses),u==c-1&&i.push(" "+this.ms_sNomPremier)),i.push('">'),k=this.__nNbGraduationsParHeure(n),0<k)for(this.__HTMLAfficheDiv(i,this.ms_sNomHeureDemi),v=1;v<k-1;v++)this.__HTMLAfficheDiv(i,this.ms_sNomHeureDemi+" "+this.ms_sNomHeureDemi+v);else this.ms_bLibelleParGraduation&&(i.push("<span>"),i.push(tt[u].m_sLibelle),i.push("<\/span>"));i.push("<\/div>")}e.push("<\/div>");t=t.concat(e);i.push("<\/div>");t=t.concat(i);t.push("<\/div><\/td>");0===f&&(t.push('<\/tr><tr class="'),t.push(this.ms_sNomCorpsDimensionTotale),t.push('">'))}t.push('<td class="');t.push(this.ms_sNomConteneur);t.push(" lh0");0==o&&t.push(" "+this.ms_sNomPremier);t.push('">');this.__HTMLAfficheDiv(t,this.ms_sNomConteneur+" "+this.ms_sNomCorpsDimensionTotale);y&&1===f&&this.__HTMLAfficheDiv(t,this.ms_sNomConteneurTitreSeul,this.__sGetNomElement(this._sGetIDConteneur(n,o,!0)));d=this.ms_sNomConteneurRendezVous+" "+this.ms_sNomCorpsDimensionTotale;n.m_bMargeFixes&&(d+=" "+this.ms_sPaddingCompatible);this.__HTMLAfficheDiv(t,d,this.__sGetNomElement(this._sGetIDConteneur(n,o,!1)));t.push("<\/td>");1==f&&t.push("<\/tr>")}return 0==a&&(0==f?t.push("<td/>"):(t.push("<td>"),this.__HTMLAfficheDiv(t,this.ms_sNomCorpsDimensionTotale),t.push("<\/td>"))),(0!==f||0==a)&&t.push("<\/tr>"),t.push("<\/table>"),t};WDVueAPBase.prototype.__nNbGraduationsParHeure=function(n){if(864e5<=n.m_nResolutionGrille)return 0;const t=36e5/n.m_nResolutionGrille;return 0==t-Math.floor(t)?t:2};WDVueAPBase.prototype.__HTMLAfficheCorpsDefilement=function(n,t,i){var u,f,e,o,r,s;this._vbAfficheTouteslesHeures(t)?(e=new Date(t.m_oDateDebut),e.setUTCHours(0,0,0,0),f=new Date(e.getTime()+t.m_nHeureAfficheMinOriginal)):f=t.m_oDateDebut;undefined!==i&&undefined!==this.m_nDefilementPrincipal&&(o=this.vnGetDimensionPxGraduation(t),i!=o&&(this.m_nDefilementPrincipal*=o/i));t.m_oDateDateHeure1erLigneVisible?(r=t.m_oDateDateHeure1erLigneVisible,s=!0,r.getUTCHours()<=t.m_oDateDebut.getUTCHours()&&r.getUTCMinutes()<=t.m_oDateDebut.getUTCMinutes()&&r.getUTCSeconds()<=t.m_oDateDebut.getUTCSeconds()&&r.getUTCMilliseconds()<=t.m_oDateDebut.getUTCMilliseconds()&&(s=!1),u=r.getTime()>t.m_oDateDebut.getTime()?this.__nGetDimensionPxDepuisDifferenceDate(t,r.getTime(),t.m_oDateDebut.getTime(),s):0,this.m_oDefilementPrincipalDate=t.m_oDateDebut):undefined!==this.m_nDefilementPrincipal&&this.m_oDefilementPrincipalDate.getTime()==f.getTime()?u=this.m_nDefilementPrincipal:this._vbAfficheTouteslesHeures(t)?(u=this.__nGetDimensionPxDepuisDifferenceDate(t,t.m_nHeureAfficheMinOriginal,t.m_nHeureAfficheMin,!1),this.m_oDefilementPrincipalDate=f):(u=-1!=this.m_nPositionAujourdhui?this.m_nPositionAujourdhui:0,this.m_oDefilementPrincipalDate=f);n&&u==this.m_nDefilementPrincipal||this._vSetDefilementPrincipal(u);this.m_nDefilementPrincipal=this._vnGetDefilementPrincipal();t.m_n1erRessourceVisible&&!this.__bConteneurVisible(t)?this._vSetDefilementLateral(t.m_n1erRessourceVisible*this._nGetDimensionLateralePxConteneur(t)):this.m_nDefilementLateral!==undefined&&this.m_nDefilementLateralNbConteneurs==this.m_oChampAP._nGetNbConteneurs(!1)?n||this._vSetDefilementLateral(this.m_nDefilementLateral):(this._vSetDefilementLateral(0),this.m_nDefilementLateralNbConteneurs=this.m_oChampAP._nGetNbConteneurs(!1));this.m_nDefilementLateral=this._vnGetDefilementLateral()};WDVueAPBase.prototype.__bConteneurVisible=function(n){var t=this._nGetDimensionLateralePxConteneur(n),i=n.m_n1erRessourceVisible*t,r=this.m_nDefilementLateral?this.m_nDefilementLateral:0;return r<=i&&r+this._vnGetDimensionClienteLaterale()>=i+t};WDVueAPBase.prototype.__tabHTMLAfficheCorpsHeureDebut=function(n){var t=[];return t.push('<div class="'),t.push(n),t.push('">'),t};WDVueAPBase.prototype.__HTMLAfficheTitresHorizontal=function(n){var t=[];t.push('<table class="');t.push(this.ms_sNomTitresHorizontal);t.push('">');this._vHTMLAfficheTitresHorizontal(t,n);t.push("<\/table>");this.m_oHoteTitresHorizontal.innerHTML=t.join("")};WDVueAPBase.prototype.__HTMLAfficheTitresVertical=function(n){if(this.m_oHoteTitresVertical){var t=[];t.push('<table class="');t.push(this.ms_sNomTitresVertical);t.push('">');this._vHTMLAfficheTitresVertical(t,n);t.push("<\/table>");this.m_oHoteTitresVertical.innerHTML=t.join("")}};WDVueAPBase.prototype.__HTMLAfficheRendezVous=function(n,t,i){for(var u=this.__tabGetConteneurRendezVous(i),f=this.m_oChampAP._nGetNbConteneurs(!1),r=0;r<f;r++)(!n||n[r])&&this.__HTMLAfficheRendezVousConteneur(t,u,r,!!n)};WDVueAPBase.prototype.__tabGetConteneurRendezVous=function(n){for(var i=[],r=this.m_oChampAP._nGetNbConteneurs(!1),u,t=0;t<r;t++)i.push([]);for(r=n.length,t=0;t<r;t++)u=n[t],i[this.m_oChampAP.nGetRendezVousConteneur(u)].push(u);return i};WDVueAPBase.prototype.__HTMLAfficheRendezVousConteneur=function(n,t,i,r){var e=this.oGetConteneurDiv(n,i,!1),o=this.oGetConteneurDiv(n,i,!0),f=t[i];if(f.length)for(var s=0==i,h=this.__tabGetRendezVousSuperpositionInfo(n,f),c=f.length,u=0;u<c;u++)this.__HTMLAfficheUnRendezVous(n,f[u],h[u],e,o,s,r)};WDVueAPBase.prototype.__tabGetRendezVousSuperpositionInfo=function(n,t){for(var y=t.length,o=new Array(y),l={m_tabSuperpositions:[],m_nDebutZone:0},a={m_tabSuperpositions:[],m_nDebutZone:0},u,i,s,c,f=0;f<y;f++){s=t[f];u={m_bTitreSeul:this._bRendezVousTitreSeul(n,s),m_nSuperposition:0,m_nNbSuperpositions:1};o[f]=u;for(var v=u.m_bTitreSeul?a:l,r=v.m_tabSuperpositions,h=r.length,p=0,e=r.length-1;e>=0;e--)r[e]&&r[e].m_oDateFin<=s.m_oDateDebut&&(r[e]=null),r[e]||(h=e,p++);if(u.m_nSuperposition=h,r.length==p){for(i=v.m_nDebutZone;i<f;i++)o[i].m_bTitreSeul==u.m_bTitreSeul&&(o[i].m_nNbSuperpositions=r.length);v.m_nDebutZone=i;r.length=0}h==r.length?r.push(s):r[h]=s}for(i=a.m_nDebutZone,c=a.m_tabSuperpositions.length;i<f;i++)u=o[i],u.m_bTitreSeul&&(u.m_nNbSuperpositions=c);for(i=l.m_nDebutZone,c=l.m_tabSuperpositions.length;i<f;i++)u=o[i],u.m_bTitreSeul||(u.m_nNbSuperpositions=c);return o};WDVueAPBase.prototype.__HTMLAfficheUnRendezVous=function(n,t,i,r,u,f,e){var h,o,l,a,y,v,p;e&&(t.m_oRendezVousPrecedent?(this.__HTMLVideUnRendezVous(t.m_oRendezVousPrecedent),t.m_oRendezVousPrecedent=null,delete t.m_oRendezVousPrecedent):this.__HTMLVideUnRendezVous(t));var c=n.m_oDateDebut.getTime(),w=n.m_oDateFin.getTime(),s=Math.max(t.m_oDateDebut.getTime(),c);(s=this.__nCorrigeDateHeure(n,s,!0),h=Math.min(t.m_oDateFin.getTime(),w),h=this.__nCorrigeDateHeure(n,h,!1),h<=s)||(o=document.createElement("div"),o.style.position="absolute",o.style.zIndex=this.ms_nZIndexRendezVous,o.id=this.__sGetNomElement(this.__sGetSuffixeIDElement(this.ms_sNomRendezVous,t.m_sID)),o.className=this.__sGetClassesDivExterneRendezVous(n,t,!1),o=(i.m_bTitreSeul?u:r).appendChild(o),i.m_bTitreSeul?(l=this.__nHTMLAfficheUnRendezVousTitreSeulSuperposition(n,o,s,h,c),y=this._nGetHauteurRendezVousTitreSeul(n),o.style.top=this._vnGetDebutRendezVousTitreSeul(n,i,s,c)+"px",o.style.height=this._nGetHauteurRendezVousTitreSeul(n)+"px",t.body!==undefined?clWDUtil.MontePageInterne(o,this.m_oChampAP.m_sAliasChamp,t,!1,t.m_sID):a=this._sGetHTMLRendezVous(n,t,l,y)):(l=this.nHTMLAfficheUnRendezVousSuperposition(n,o,i,f),v=this.__nGetDimensionPxDepuisDifferenceDate(n,h,s,!1),p=this._vnGetDebutRendezVous(n,t,s,c),this.vSetDebut(o,p),this.vSetLongueur(o,v),t.body!==undefined?clWDUtil.MontePageInterne(o,this.m_oChampAP.m_sAliasChamp,t,!1,t.m_sID):a=this._vsGetHTMLRendezVous(n,t,v,l)),undefined!==a&&(o.innerHTML=a),this.__SetRendezVousEvenements(t,o),t.m_oDiv=o)};WDVueAPBase.prototype.__sGetClassesDivExterneRendezVous=function(n,t,i){var r=[this.ms_sNomRendezVousExterne,i?this.ms_sNomRendezVousSelect:this.ms_sNomRendezVous];return this.bUnRendezVousRedimensionnable(n,t)&&(t.m_bSansRedimDebut||r.push(this.ms_sNomRendezVousRedimDebut),t.m_bSansRedimFin||r.push(this.ms_sNomRendezVousRedimFin)),this.__bPushStyleClasses(i?n.m_oStyleRendezVousSelect:n.m_oStyleRendezVous,r),r.join(" ")};WDVueAPBase.prototype.nHTMLAfficheUnRendezVousSuperposition=function(n,t,i,r){var u={m_oDebut:"",m_oLongueur:""},f=this._vnGetReductionLateraleRendezVousPourZoneTitreSeulIndependante(n),e=this.__nDimensionLateralRendezVous(n,u,i,f,r);return this.vSetDebutLateral(t,u.m_oDebut),this.vSetLongueurLateral(t,u.m_oLongueur),e};WDVueAPBase.prototype.__nHTMLAfficheUnRendezVousTitreSeulSuperposition=function(n,t,i,r,u){var f={m_oDebut:"",m_oLongueur:""},e=this._vnDimensionHorizontalRendezVousTitreSeul(n,f,i,r,u);return WDChamp.prototype.s_SetStyleLeft(t,f.m_oDebut),WDChamp.prototype.s_SetStyleWidth(t,f.m_oLongueur),e};WDVueAPBase.prototype.__nDimensionLateralRendezVous=function(n,t,i,r,u){switch(n.m_eModeSuperposition){case this.ms_eSuperpositionDecalage:return this.__nDimensionLateralRendezVousSuperpositionDecalage(n,t,i,r,u);case this.ms_eSuperpositionCoteACote:default:return this.__nDimensionLateralRendezVousSuperpositionCoteACote(n,t,i,r,u)}};WDVueAPBase.prototype.__nDimensionLateralRendezVousSuperpositionCoteACote=function(n,t,i,r,u){var e=i.m_nNbSuperpositions,o=i.m_nSuperposition,s=this.__nGetDimensionPxSansBordureConteneurAvecSuperposition(n,i,r,u),f=s/e;return t.m_oDebut=this.ms_nPaddingLateralDebut+o*f,t.m_oLongueur=this.ms_nPaddingLateralFin+(e-o-1)*f,f};WDVueAPBase.prototype.__nDimensionLateralRendezVousSuperpositionDecalage=function(n,t,i,r,u){var f=i.m_nNbSuperpositions;if(1==f)return this.__nDimensionLateralRendezVousSuperpositionCoteACote(n,t,i,r,u);var e=i.m_nSuperposition,o=this.__nGetDimensionPxSansBordureConteneurAvecSuperposition(n,i,r,u),s=Math.floor(o*30/100),h=s/(f-1);return t.m_oDebut=this.ms_nPaddingLateralDebut+e*h,t.m_oLongueur=this.ms_nPaddingLateralFin+(f-e-1)*h,Math.floor(o-s)};WDVueAPBase.prototype.__nGetDimensionPxSansBordureConteneurAvecSuperposition=function(n,t,i,r){var u=this.__nGetDimensionPxSansBordureConteneur(n,r)-i;return u-=this.ms_nPaddingLateralDebut+this.ms_nPaddingLateralFin,Math.max(0,u)};WDVueAPBase.prototype._sGetHTMLRendezVous=function(n,t,i,r){var v=n.m_oStyleRendezVous,l=n.m_oStyleLibTitre,a=n.m_oStyleLibContenu,h=this._bRendezVousTitreSeulSaufSiSansTitre(n,t),f=v.m_nBordureV||0,c=0<f&&n.m_bMargeFixes,u=[],e,o,s;return u.push('<ul style="width:'),u.push(i-f*2),u.push("px;height:"),u.push(r-f*2),u.push("px"),t.m_cBord&&(u.push(";border-color:"),u.push(t.m_cBord)),t.m_sBulle&&(u.push('" title="'),u.push(t.m_sBulle)),u.push('">'),!1!==n.m_bAfficherTitreRendezVous&&(u.push("<li"),e=this.__tabGetFondTitre(t,l,!1),(e||c)&&(u.push(' style="'),c&&(u.push("padding-top:"),u.push(f),u.push("px"),h&&(u.push(";padding-bottom:"),u.push(f),u.push("px"))),e&&(u.push(";box-shadow:0px 20px 10px -10px "),u.push(e[1]),u.push(" inset"),u.push(";background-color:"),u.push(e[0])),h&&u.push(";height:100%"),u.push('"')),u.push(' class="'),u.push(this.ms_sNomRendezVousTitre),h&&(u.push(" "),u.push(this.ms_sNomRendezVousTitreSeul)),l.m_sClasses&&(u.push(" padding "),u.push(l.m_sClasses)),u.push('">'),t.m_sTitre?u.push(clWDUtil.sEncodeInnerHTML(t.m_sTitre,!0,!1)):u.push("&nbsp;"),u.push("<\/li>")),h||(o=[],u.push('<li style="height:100%;'),s=this.__cGetFond(t,null,a,!1),(t.m_sImage||s||!1===n.m_bAfficherTitreRendezVous&&c)&&(t.m_sImage&&(u.push("background-image:"),u.push(clWDUtil.sGetURICSS(clWDUtil.sGetCheminImage(t.m_sImage,""))),u.push(";")),s&&(u.push("background-color:"),u.push(s),u.push(";")),!1===n.m_bAfficherTitreRendezVous&&c&&(u.push("padding-top:"),u.push(f),u.push("px")),(t.m_sImage||s)&&o.push(this.ms_sNomRendezVousImage)),u.push('"'),t.m_sContenu&&this.__bPushStyleClasses(a,o),0<o.length&&(u.push(' class="'),u.push(o.join(" ")),u.push('"')),u.push(">"),t.m_sContenu&&u.push(clWDUtil.sEncodeInnerHTML(t.m_sContenu,!0,!1)),t.m_bRepetee&&(u.push('<img class="'),u.push(this.ms_sNomRendezVousRepetition),u.push('" src="'),u.push(this.ms_sImageRepetition),u.push('" />')),u.push("<\/li>")),u.push("<\/ul>"),0<t.m_nImportance&&(u.push('<img class="'),u.push(this.ms_sNomRendezVousImportance),u.push('" src="'),u.push(this.ms_sImageImportance),u.push('" />')),u.join("")};WDVueAPBase.prototype.__tabGetFondTitre=function(n,t,i){return n.m_cFondTitre&&(!i||!t.m_cFondDegrade)?[n.m_cFondTitre,n.m_cFondContenu]:t.m_cFondDegrade?[t.m_cFondDegrade,t.m_cFond]:undefined};WDVueAPBase.prototype.__cGetFond=function(n,t,i,r){return n.m_sContenu?i&&i.m_cFond?i.m_cFond:r&&t&&t.m_cFond?t.m_cFond:n.m_cFondContenu?n.m_cFondContenu:t&&t.m_cFond?t.m_cFond:undefined:r&&t&&t.m_cFond?t.m_cFond:n.m_cFondContenu?n.m_cFondContenu:undefined};WDVueAPBase.prototype.__SetRendezVousEvenements=function(n,t){this.m_oChampAP.m_oDragRendezVous.vInitElement(n,0,t);var i=this,r=n;n.m_fOnClick=function(n){return i.m_oChampAP.bOnRendezVousSelection(n||event,r)};n.m_fOnDblClick=function(n){return i.m_oChampAP.bOnRendezVousDoubleClic(n||event,r)};clWDUtil.AttacheDetacheEvent(!0,t,"click",n.m_fOnClick);clWDUtil.AttacheDetacheEvent(!0,t,"dblclick",n.m_fOnDblClick)};WDVueAPBase.prototype.__HTMLAfficheRendezVousSelection=function(n,t,i){var u=this.m_oChampAP.oGetRendezVousSelection(),r;u&&(this.__HTMLAfficheRendezVousSuppression(t,i),r=u.m_oDiv,r&&(r.style.zIndex=this.ms_nZIndexRendezVousSelection,this.__HTMLAfficheRendezVousCellulesBordures(t,u,r,!0,t.m_oStyleRendezVousSelect,t.m_oStyleLibTitreSelect,t.m_oStyleLibContenuSelect)))};WDVueAPBase.prototype.__HTMLAfficheRendezVousCellulesBordures=function(n,t,i,r,u,f,e){var y=i.firstChild,s=0,h=1,c,v,a,l,o;t.body!==undefined?(s=undefined,h=undefined):(!1===n.m_bAfficherTitreRendezVous&&(s=undefined,h--),this._bRendezVousTitreSeulSaufSiSansTitre(n,t)&&(h=undefined));c=y.getElementsByTagName("li");n.m_bMargeFixes&&n.m_oStyleRendezVous.m_nBordureV!==n.m_oStyleRendezVousSelect.m_nBordureV&&(v=this.__nGetRendezVousEpaisseurBordure(u),undefined!==s&&(c[s].style.paddingTop=v+"px"));a=this.__tabGetFondTitre(t,f,r);l=this.__cGetFond(t,null,e,r);r&&undefined===l&&(l=this.__cGetFond(t,null,n.m_oStyleLibContenu,r));i.className=this.__sGetClassesDivExterneRendezVous(n,t,r);o=[];undefined!==s&&(o.length=0,o.push(this.ms_sNomRendezVousTitre),undefined===h&&o.push(this.ms_sNomRendezVousTitreSeul),f.m_sClasses&&(o.push(" padding "),o.push(f.m_sClasses)),c[s].className=o.join(" "),a&&(c[s].style.boxShadow="0px 20px 10px -10px "+a[1]+" inset",c[s].style.backgroundColor=a[0]));undefined!==h&&(o.length=0,t.m_sImage&&o.push(this.ms_sNomRendezVousImage),t.m_sContenu&&this.__bPushStyleClasses(e,o),c[h].className=o.join(" "),o.push(this.ms_sNomRendezVousBas),c[h].className=o.join(" "),l||(l=""),c[h].style.backgroundColor=l)};WDVueAPBase.prototype.__HTMLAfficheRendezVousSelectionApresAffichage=function(n,t){var i=this.m_oChampAP.oGetRendezVousSelection();i&&t.m_bEditTitreRDVSelection&&(t.m_bEditTitreRDVSelection=!1,this.m_oChampAP.__bEditionRendezVous(n,i))};WDVueAPBase.prototype.__HTMLAfficheRendezVousSuppression=function(n,t){var i,r,u,f;this.__HTMLVideRendezVousSuppression();n.m_bSupprimeParUtilisateur&&n.m_bActif&&(r=n.m_oBtnSuppression,u=this.ms_sNomRendezVousSupprime,r?(i=document.createElement("div"),f=r.m_oStyle.m_sClasses,f&&(u+=" "+f),i.style.boxSizing="border-box"):(i=document.createElement("img"),i.src=this.ms_sImageSupprime),i.className=u,this.m_oRendezVousSuppression=this.m_oHote.appendChild(i),t&&this.__HTMLPlaceRendezVousSuppressionAutonome(n),clWDUtil.AttacheDetacheEvent(!0,this.m_oRendezVousSuppression,"click",this.m_fOnRendezVousSupprime))};WDVueAPBase.prototype.__HTMLPlaceRendezVousSuppressionAutonome=function(n){var t=this.m_oChampAP.oGetRendezVousSelection(),i=this.m_oRendezVousSuppression;t&&i&&this.__HTMLPlaceRendezVousSuppression(n,t,i)};WDVueAPBase.prototype.__HTMLPlaceRendezVousSuppression=function(n,t,i){var b=t.m_oDiv,u,f,o,s,v,l,w;if(b){var k=this.m_oHote.getBoundingClientRect(),r=b.getBoundingClientRect(),a,y,p,h,c,d=n.m_oBtnSuppression;if(d){var g=d.m_tabPosition,nt=clWDUtil.bRWD?$.wb.nGetTrancheActiveIndiceWL(!0):1,tt=Math.min(nt,g.length)-1,e=g[tt];a=e.m_eAncrage;y=e.m_nLargeurPx;p=e.m_nHauteurPx;h=e.m_nDecalageXPx;c=e.m_nDecalageYPx;i.style.width=clWDUtil.GetDimensionPxPourStyle(e.m_nLargeurPx);i.style.height=clWDUtil.GetDimensionPxPourStyle(e.m_nHauteurPx)}else a=2,y=14,p=13,h=-6,c=-6;switch(a){case 0:case 3:case 6:u=r.left;o=u+h;break;case 1:case 4:case 7:u=(r.left+r.right)/2;o=u+h;break;default:case 2:case 5:case 8:u=r.right;o=u-h-y}switch(a){case 0:case 1:default:case 2:f=r.top;s=f+c;break;case 3:case 4:case 5:f=(r.top+r.bottom)/2;s=f+c;break;case 6:case 7:case 8:f=r.bottom;s=f-c-p}o=o-k.left;s=s-k.top;v=0<=o&&0<=s;v&&(i.style.left=o+"px",i.style.top=s+"px",clWDUtil.SetDisplay(i,!0),l=this.m_oHoteCorps.getBoundingClientRect(),w=l.top,this.ms_bZoneTitreSeulIndependanteExterne&&t.m_bJourneeEntiere&&(w-=this._vnGetHauteurZoneTitreSeulIndependante(this.m_oChampAP.m_oParametres)),v=l.left<=u&&w<=f&&u<=l.right&&f<=l.bottom);clWDUtil.SetDisplay(i,v)}};WDVueAPBase.prototype.__HTMLVideContenu=function(n,t,i){this.__HTMLVideSaisie(n,i);this.__HTMLVideRendezVousSelection(n);this.__HTMLVideRendezVous(t);this.__HTMLVideCorps();this.__HTMLVideTitresVertical();this.__HTMLVideTitresHorizontal();this.__HTMLVideBoutonsPeriode()};WDVueAPBase.prototype.__HTMLVideSaisie=function(n,t){var i=this.m_oChampAP.m_oPopupSaisie;t&&i.bSaisieEnCours()&&(n.m_bEditTitreRDVSelection=!0);i.Annule()};WDVueAPBase.prototype.__HTMLVideRendezVousSelection=function(n){var t=this.m_oChampAP.oGetRendezVousSelection(),i;t&&t.m_oDiv&&(i=t.m_oDiv,this.__HTMLAfficheRendezVousCellulesBordures(n,t,i,!1,n.m_oStyleRendezVous,n.m_oStyleLibTitre,n.m_oStyleLibContenu),i.style.zIndex=this.ms_nZIndexRendezVous);this.__HTMLVideRendezVousSuppression()};WDVueAPBase.prototype.__HTMLVideRendezVousSuppression=function(){this.m_oRendezVousSuppression&&clWDUtil.AttacheDetacheEvent(!1,this.m_oRendezVousSuppression,"click",this.m_fOnRendezVousSupprime);clWDUtil.bHTMLVideDepuisVariable(this,"m_oRendezVousSuppression")};WDVueAPBase.prototype.__HTMLVideRendezVous=function(n){for(var i=n.m_tabRendezVous,r=i.length,t=0;t<r;t++)this.__HTMLVideUnRendezVous(i[t])};WDVueAPBase.prototype.__HTMLVideUnRendezVous=function(n){var t=n.m_oDiv;t&&(n.body!==undefined&&clWDUtil.DemontePageInterne(t,this.m_oChampAP.m_sAliasChamp,n),clWDUtil.AttacheDetacheEvent(!1,t,"dblclick",n.m_fOnDblClick),n.m_fOnDblClick=null,delete n.m_fOnDblClick,clWDUtil.AttacheDetacheEvent(!0,t,"click",n.m_fOnClick),n.m_fOnClick=null,delete n.m_fOnClick,this.m_oChampAP.m_oDragRendezVous.vLibereElement(n,t),clWDUtil.oSupprimeElement(t),t=null,n.m_oDiv=null,delete n.m_oDiv)};WDVueAPBase.prototype.__HTMLVideCorps=function(){for(var i=this.m_oChampAP._nGetNbConteneurs(!0),n,t=0;t<i;t++)n=this.m_oChampAP._oGetConteneur(!0,t),this.m_oChampAP.m_oDragPeriodeSelect.vLibereElement(n,n.m_oDiv,n.m_oDivTitreSeul),n.m_oDivTitreSeul&&(n.m_oDivTitreSeul=null,delete n.m_oDivTitreSeul),n.m_oDiv=null,delete n.m_oDiv;clWDUtil.SupprimeFils(this.m_oHoteCorps)};WDVueAPBase.prototype.__HTMLVideTitresVertical=function(){this.m_oHoteTitresVertical&&clWDUtil.SupprimeFils(this.m_oHoteTitresVertical)};WDVueAPBase.prototype.__HTMLVideTitresHorizontal=function(){clWDUtil.SupprimeFils(this.m_oHoteTitresHorizontal)};WDVueAPBase.prototype.__HTMLVideBoutonsPeriode=function(){this.m_oHoteBoutonsPeriode&&clWDUtil.SupprimeFils(this.m_oHoteBoutonsPeriode)};WDVueAPBase.prototype._nGetPositionHote=function(n,t,i,r){var f=r?1:-1,u;return u=i?n.getBoundingClientRect().left:n.getBoundingClientRect().top,t+f*u};WDVueAPBase.prototype.__nGetHeureArrondiDefaut=function(n){return Math.floor(n/36e5)};WDVueAPBase.prototype.__nGetHeureArrondiExces=function(n){return Math.ceil(n/36e5)};WDVueAPBase.prototype.__oGetGraduation=function(n,t,i,r){var w=this.vnGetDimensionPxGraduation(n),o=this._vnGetNbGraduationsParalleles(n),e=this.m_tabGraduations,u=Math.floor(t/w),h=0,s=o,c,l,f,a,v,y,b,p;1<o&&(this.ms_bReordonneGraduationAffichage?(c=e.length/o,u=Math.min(u,c-1),h=r*c,u=u+h,s=1):u=u*o+r);l=u;u=Math.max(Math.min(u,e.length-1),0);do f=e[u],u-=s;while(u>=h&&f.m_nPosition>t);return i?(a=!1,v=this._vnGetHauteurRuptureJour(n),v&&(y=f.m_nPosition+w,b=y+v,t>=y&&t<b&&(a=!0)),a&&u<e.length-2&&e[u+2].m_bRupture&&(f=e[u+2])):f.m_bRupture&&f.m_nPosition==t&&0<=u?f=e[u]:f.m_bRupture&&f.m_nPosition<t&&e.length<=l&&u+s==e.length-1&&(p=e[l-s],p&&f.m_bRupture&&(f=p)),f};WDVueAPBase.prototype.nAppliqueResolution=function(n,t,i,r){var u=this.__oGetGraduation(n,t,!1,r),f=this.__nGetPositionDansGraduation(n,t,u),e=Math.round(f/i);return u.m_nPosition+Math.round(e*i)};WDVueAPBase.prototype.bDansRendezVousALaJournee=function(n,t,i){if(t<this.m_tabGraduations[0].m_nPosition)return!0;var r=this.__oGetGraduation(n,t,!1,i),u=this.__oGetGraduation(n,t,!0,i);return u!==r};WDVueAPBase.prototype.__nGetPositionDansGraduation=function(n,t,i){return this.__nGetPositionDansGraduationInterne(t,i,this.vnGetDimensionPxGraduation(n))};WDVueAPBase.prototype.__nGetPositionDansGraduationInterne=function(n,t,i){var r=n-t.m_nPosition;return r=Math.max(r,0),Math.min(r,i)};WDVueAPBase.prototype.oGetDateFromPosAlignResolution=function(n,t,i,r,u,f){var e=this.__oGetGraduation(n,t,i,r),o=e.m_oDateDebut.getTime()+this._vnGetDureeMsFromPosAlignResolution(n,t,e,u,f);return new Date(o)};WDVueAPBase.prototype._vnGetDureeMsFromPosAlignResolution=function(n,t,i,r,u){var e=this.vnGetDimensionPxGraduation(n),o=this.__nGetPositionDansGraduationInterne(t,i,e),f=o*this.m_nGraduationDureeMs/e;return u&&(f=Math.round(f/n.m_nResolutionDeplacement)*n.m_nResolutionDeplacement),f};WDVueAPBase.prototype.nAppliqueResolutionDeplacement=function(n,t,i){var u=this.__nGetDimensionPxDepuisDureeMs(n,n.m_nResolutionDeplacement),r=this.nAppliqueResolution(n,t,u,i);return r>t&&(r-=Math.round(u)),r};WDVueAPBase.prototype.nAppliqueResolutionTaille=function(n,t,i,r,u){var e=this.__nGetDimensionPxDepuisDureeMs(n,n.m_nResolutionTaille),f=Math.round(Math.round(t/e)*e),o=0;return 0!==this._veTableTrParRessource()||this.ms_bZoneTitreSeulIndependanteExterne||!n.m_nHauteurZoneJourneeComplete||u||(o=n.m_nHauteurZoneJourneeComplete),f+=o,(f<t+i||0==f)&&(f+=Math.round(e)),f-o};WDVueAPBase.prototype.__nCorrigeDateHeure=function(n,t,i){var r=clWDUtil.nGetHeureJour(t);return r<n.m_nHeureAfficheMin?i?t-r+n.m_nHeureAfficheMin:t-r-864e5+n.m_nHeureAfficheMax:r>=n.m_nHeureAfficheMax?i?t-r+864e5+n.m_nHeureAfficheMin:t-r+n.m_nHeureAfficheMax:t};WDVueAPBase.prototype.__InitCSS_Heures=function(n){var c,u,f,e,t,i,o,s,h,r,l;for(c=0!==this._veTableTrParRessource()?this._vnGetDimensionLateralePxGraduation(n):this.__nGetDimensionLateralePxToutesGraduations(n),u=this._vtabInitCSS_DimensionPxLaterale([],c,0,0,!1),f=this.m_nDimensionPxZoneHeures,this instanceof WDVueAPHorizontale&&f++,e=u.concat(this.ms_sStyleDimension+":"+f+"px"),t="",1===this._veTableTrParRessource()&&(i=this._vnGetHauteurZoneTitreSeulIndependante(n),0<i&&(this.__StyleCree(this.__sGetSelecteur(this.ms_sNomCorps,"",this.ms_sNomJourneeNonComplete),["margin-top:"+i+"px"]),t="."+this.ms_sNomJourneeNonComplete+" ",o=this._vtabInitCSS_DimensionPxLaterale([],i,0,0,!1).concat(this.ms_sStyleDimension+":"+this.m_nDimensionPxZoneHeures+"px"),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomCorps,"",this.ms_sNomFondCouleur),o),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomCorps,"",this.ms_sNomFondBordure),o))),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomCorps,t,this.ms_sNomFondCouleur),e),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomCorps,t,this.ms_sNomFondBordure),e),s=this._vtabInitCSS_DimensionPxPrincipale([],this.vnGetDimensionPxGraduation(n),0,0,!1),h=this._vtabInitCSS_DimensionPxLaterale([],this._vnGetDimensionLateralePxGraduation(n),0,0,!1),this.__StyleCree(this.__sGetSelecteur(undefined,"",this.ms_sNomHeure),s.concat(h)),this.__StyleCree(this.__sGetSelecteur(undefined,"",this.ms_sNomHeureLibelle),s.concat(u)),l=this.ms_tabHeureSuffixe.length,r=0;r<l;r++)this.__InitCSS_UneHeure(n,r,h)};WDVueAPBase.prototype.__InitCSS_UneHeure=function(n,t,i){var u=this.ms_tabHeureSuffixe[t],f="WDPLN-"+u,r=n["m_oStyle"+u];this.__InitCSS_UneHeureInterne(n,r,t,f,i,n.m_oStyleHorsBornes);r=n["m_oStyle"+u+this.ms_sSuffixePair];r&&this.__InitCSS_UneHeureInterne(n,r,t,f+this.ms_sSuffixePair,i,n.m_oStyleHorsBornesPair)};WDVueAPBase.prototype.__InitCSS_UneHeureInterne=function(n,t,i,r,u,f){var w,l,a,o,c,v,y,h;t.m_cFond&&this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondCouleur,"",r),["background-color:"+t.m_cFond]);var e=[],s=t.m_nBordureV||0,p="";if(0<s?(e=this._vtabInitCSS_BorduresPerpendiculaires(e,t,t,!0),w=this._vtabInitCSS_BorduresPerpendiculaires(["background-color:transparent"],t,undefined),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondBordure+" ."+r,"",this.ms_sNomHeureLibelle),w),l=this.__sGetSelecteur(this.ms_sNomFondBordure+" ."+r+"."+this.ms_sNomHeure,"",undefined),a=this.__sGetSelecteur(this.ms_sNomFondBordure+" ."+r+"."+this.ms_sNomHeure+"."+this.ms_sNomPremier,"",undefined),n.m_nResolutionGrille>=864e5?(o=this._vtabInitCSS_BorduresPerpendiculaires([],t,null,!1),o=this._vtabInitCSS_DimensionPxPrincipale(o,this.vnGetDimensionPxGraduation(n)-s,0,0,!1),this.__StyleCree(l,o),o=this._vtabInitCSS_BorduresPerpendiculaires([],t,t,!1),o=this._vtabInitCSS_DimensionPxPrincipale(o,this.vnGetDimensionPxGraduation(n)-s,0,0,!1),this.__StyleCree(a,o)):(this.__StyleSupprime(l),this.__StyleSupprime(a))):2<=i&&i<=5&&f&&0<=f.m_nBordureV&&(p="WDPLN-HorsBornes.",s=f.m_nBordureV),c=this.__nNbGraduationsParHeure(n),0<c){for(v=this.vnGetDimensionPxGraduation(n)/c,y=Math.floor(v),y-=s,e=this._vtabInitCSS_DimensionPxPrincipale(e,y,0,0,!1),e=e.concat(u),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondBordure+" ."+r,"",this.ms_sNomHeureDemi),e),h=1;h<c-1;h++)this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondBordure+" ."+r,"",this.ms_sNomHeureDemi+h),[this.ms_sCSSPositionPxPrincipale+":"+Math.floor(v*h)+"px","border-"+this.ms_sCSSPositionPxPrincipale+"-color:transparent"]);2<=i&&i<=5&&f&&0<=f.m_nBordureV&&t.m_nBordureV!==f.m_nBordureV&&this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondBordure+" ."+p+r,"",this.ms_sNomHeureDemi),e)}};WDVueAPBase.prototype.__tabInitCSS_BorduresMoitie=function(n,t,i,r,u,f){return t&&t.m_nBordureV&&n.push("border-"+i+":solid "+t.m_nBordureV+"px "+t.m_cBordureV),r&&r.m_nBordureV&&n.push("border-"+u+":"+(f?"dotted":"solid")+" "+r.m_nBordureV+"px "+r.m_cBordureV),n};WDVueAPBase.prototype._tabInitCSS_BorduresHautBas=function(n,t,i,r){return this.__tabInitCSS_BorduresMoitie(n,t,"top",i,"bottom",r)};WDVueAPBase.prototype._tabInitCSS_BorduresGaucheDroite=function(n,t,i,r){return this.__tabInitCSS_BorduresMoitie(n,t,"left",i,"right",r)};WDVueAPBase.prototype.__tabInitCSS_Dimension=function(n,t,i,r){if(!isNaN(t)){var u=i+":"+clWDUtil.GetDimensionPxPourStyle(t);n.push(u);r&&(n.push("min-"+u),n.push("max-"+u))}return n};WDVueAPBase.prototype._tabInitCSS_DimensionLargeur=function(n,t,i,r,u){return this.__tabInitCSS_Dimension(n,t-i,"width",u)};WDVueAPBase.prototype._tabInitCSS_DimensionHauteur=function(n,t,i,r,u){return this.__tabInitCSS_Dimension(n,t-r,"height",u)};WDVueAPBase.prototype.__InitCSS_UnTitre=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){this.__StyleCree(this.__sGetSelecteur(n+" ."+this.ms_sNomPremier,"div",r),f);this.__StyleCree(this.__sGetSelecteur(n,"td",i),e);s.m_cFond&&u.push("background-color:"+s.m_cFond);u=this._tabInitCSS_DimensionLargeur(u,h,v,y,l);u=this._tabInitCSS_DimensionHauteur(u,c,v,y,a);clWDUtil.bForEach(["left","top","right","bottom"],function(n){var t="border-"+n;return clWDUtil.bForEach(u,function(n){return n.substring(0,t.length)!=t})&&u.push("border-"+n+"-style:none"),!0});this.__StyleComplete(this.__sGetSelecteur(n,"div",r),u);o&&o.m_cFond&&this.__StyleCree(this.__sGetSelecteur(undefined,"",t),["background-color:"+o.m_cFond])};WDVueAPBase.prototype.__InitCSS_TitresHorizontaux=function(n,t){var f=this.__tabGetStylesHorizontaux(n),l=t?this.ms_sNomTitresConteneurs:this.ms_sNomTitresSecondaires,e=this._vnGetHauteurTitresHorizontaux(n,1),o,r,s,c;for(o=t?this._nGetDimensionLateralePxConteneur(n):this.vnGetDimensionPxGraduation(n),s=f.length,r=0;r<s;r++){var i=f[r],a=t?this._oGetStyleOuStyleTitreSecondaireDernier(n,i):i,u=i,v=this._tabInitCSS_BorduresGaucheDroite([],a,u),y=this._tabInitCSS_BorduresGaucheDroite([],t?null:u,t?u:null),p=this._tabInitCSS_BorduresHautBas([],i,null),w=this.__nGetDimensionPxSansBordure(o,i),h;h=t?e:this.__nGetDimensionPxSansBordure(e,i);c=l+r;this.__InitCSS_UnTitre(c,this.ms_sNomTitresHorizontal,undefined,undefined,y,v,p,u,i,w,h,!0,!0,this.ms_nPaddingTitreCalcul,0)}};WDVueAPBase.prototype.__InitCSS_TitresVerticaux=function(n,t){var i=this._voGetStyleVertical(n),h=t?this._oGetStyleOuStyleTitreSecondaireDernier(n,i):i,r=i,c=this._tabInitCSS_BorduresHautBas([],h,r),l=this._tabInitCSS_BorduresHautBas([],t?null:r,t?r:null),a=this._tabInitCSS_BorduresGaucheDroite([],i,null),f,e,s,o,u;t?(f=n.m_nLargeurTitresVertical,e=this.__nGetDimensionPxSansBordureTitresVerticaux(this._nGetDimensionLateralePxConteneur(n),i)):(f=this.__nGetDimensionPxSansBordureTitresVerticaux(n.m_nLargeurTitresVertical,i),e=this.__nGetDimensionPxSansBordureTitresVerticaux(this.vnGetDimensionPxGraduation(n),i));s=t?this.ms_sNomTitresConteneurs:this.ms_sNomTitresSecondaires;clWDUtil.bHTML5?(o=0,u=this.ms_nPaddingTitresVerticaux,this instanceof WDVueAPHorizontale&&(u+=i.m_nBordureV||0)):(o=this.ms_nPaddingTitresVerticaux,u=0);this.__InitCSS_UnTitre(s,this.ms_sNomTitresVertical,this.ms_sNomTitresConteneursCellule,undefined,l,c,a,r,i,f,e,!1,t,o,u)};WDVueAPBase.prototype.__InitCSS_Conteneurs=function(n){var o=this.__nGetDimensionPxSansBordureConteneur(n,!0),f=this.__nGetDimensionPxSansBordureConteneur(n,!1),e=Math.max(0,f-o),r,t,u,s,i;isNaN(f)||(r=n.m_oStyleNormal,u=this._nGetDimensionLateralePxConteneur(n),t=this._vtabInitCSS_DimensionPxLaterale([],u,0,0,!0),t=this._vtabInitCSS_BorduresLaterales(t,null,r),this.__StyleCree(this.__sGetSelecteur(undefined,"div",this.ms_sNomConteneur),t),s=this._oGetStyleOuStyleTitreSecondaireDernier(n,r),t=this._vtabInitCSS_DimensionPxLaterale([],u-e,0,0,!0),t=this._vtabInitCSS_BorduresLaterales(t,s,r),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomPremier,"div",this.ms_sNomConteneur),t),i=this._vnGetHauteurZoneTitreSeulIndependante(n),0<i&&(t=["height:"+i+"px"],this.ms_bZoneTitreSeulIndependanteExterne&&(t.push("width:"+this._nGetDimensionLateralePxConteneur(n)+"px"),t.push("float:left")),this.__StyleCree(this.__sGetSelecteur(undefined,"",this.ms_sNomConteneurTitreSeul),t)),WDVueAPHorizontale.prototype.ms_sStyleDimensionLaterale!=this.ms_sStyleDimensionLaterale&&(i=0),this.__StyleCree(this.__sGetSelecteur(undefined,"",this.ms_sNomConteneurRendezVous),[this.ms_sStyleDimensionLaterale+":"+(f-i)+"px"]),e&&(t.length=0,t.push(this.ms_sStyleDebutLateral+":"+e+"px"),t.push(this.ms_sStyleDimensionLaterale+":"+(o-i)+"px"),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomPremier,"",this.ms_sNomConteneurRendezVous),t)),this.__StyleCree(this.__sGetSelecteur(undefined,"td",this.ms_sNomConteneur),this._vtabInitCSS_DimensionPxLaterale([],u,0,0,!0)))};WDVueAPBase.prototype.__InitCSS_RendezVous=function(n){this.__InitCSS_RendezVous_UnStyle(n,n.m_oStyleRendezVous,this.ms_sNomRendezVous);this.__InitCSS_RendezVous_UnStyle(n,n.m_oStyleRendezVousSelect,this.ms_sNomRendezVousSelect)};WDVueAPBase.prototype.__InitCSS_RendezVous_UnStyle=function(n,t,i){var r,e,u,o,s,f;n.m_bMargeFixes&&t.m_nBordureV&&(r=["border:solid "+t.m_nBordureV+"px "+t.m_cBordureV],r.push("border-collapse:separate"),this.__BorderRadius(r,5),e=Math.max(0,5-t.m_nBordureV),0<e&&(u=[],this.__BorderRadius(u,e,!0),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomRendezVousExterne,"li",":first-child"),u),o=[],this.__BorderRadius(o,5),this.__StyleCree(this.__sGetSelecteur(i,"",this.ms_sNomRendezVousTitreSeul),o),s=[],this.__BorderRadius(u,e,!1),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomRendezVousExterne,"li",":last-child"),u)),this.__StyleCree(this.__sGetSelecteur(i,""),r));bEdge?this.__StyleCree(this.__sGetSelecteur(this.ms_sNomRendezVousExterne,"",undefined),["cursor:"+this.ms_sCurseurRedim]):(this.__StyleCree(this.__sGetSelecteur(this.ms_sNomRendezVousRedimDebutBefore,"",undefined),["cursor:"+this.ms_sCurseurRedim]),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomRendezVousRedimFinAfter,"",undefined),["cursor:"+this.ms_sCurseurRedim]));n.m_bMargeFixes&&(f=this.__nGetRendezVousEpaisseurBordure(t),f&&(r=["padding-left:"+f+"px","padding-right:"+f+"px","background-position-x:"+f+"px"],this.__StyleCree(this.__sGetSelecteur(undefined,"",i+" li"),r)))};WDVueAPBase.prototype.__tabGetStylesHorizontaux=function(n){return undefined===n.m_tabStylesHorizontaux&&(n.m_tabStylesHorizontaux=this._vtabGetStylesHorizontaux(n)),n.m_tabStylesHorizontaux};WDVueAPBase.prototype._oGetStyleHorizontal=function(n,t){return this.__tabGetStylesHorizontaux(n)[t]};WDVueAPBase.prototype._oGetStyleHorizontalDernier=function(n){var t=this.__tabGetStylesHorizontaux(n);return t[t.length-1]};WDVueAPBase.prototype._oGetStyleOuStyleTitreSecondaireDernier=function(n,t){return t&&t.m_nBordureV?t:this._voGetStyleTitreSecondaireDernier(n)};WDVueAPBase.prototype._nGetOffsetBordure=function(n,t){return n.m_nBordureV?-(t*n.m_nBordureV):0};WDVueAPBase.prototype.__BorderRadius=function(n,t,i){var r=i===undefined||i?t:0,u=i===undefined||!i?t:0;n.push("border-radius:"+r+"px "+r+"px "+u+"px "+u+"px")};WDVueAPBase.prototype.__nGetRendezVousEpaisseurBordure=function(n){var t=this.ms_nPaddingRendezVous;return n.m_nBordureV?Math.max(0,t-n.m_nBordureV):t};WDVueAPBase.prototype.__bPushStyleClasses=function(n,t){var i=n.m_sClasses;return i?(t.push("padding"),t.push(i),!0):!1};WDVueAPBase.prototype.__DansDefilement=function(n,t,i){try{var r=this.m_bDansGetDefilement;return this.m_bDansGetDefilement=!0,t.apply(n,i)}finally{this.m_bDansGetDefilement=r}};WDVueAPBase.prototype.__nGetClientOuScroll=function(n,t){return this.__DansDefilement(this,this.__nGetClientOuScrollInterne,[n,t])};WDVueAPBase.prototype.__nGetClientOuScrollInterne=function(n,t){return n[t]};WDVueAPBase.prototype.__nGetClientWidth=function(n){return this.__nGetClientOuScroll(n,"clientWidth")};WDVueAPBase.prototype.__nGetClientHeight=function(n){return this.__nGetClientOuScroll(n,"clientHeight")};WDVueAPBase.prototype.__nGetLargeur=function(){return this.__nGetClientWidth(this.m_oHote)};WDVueAPBase.prototype.__nGetHauteur=function(){return this.__DansDefilement(this.m_oChampAP,function(n){return n.offsetHeight},[this.m_oHote])};WDVueAPBase.prototype._nGetDimensionLateralePxConteneur=function(n){var t=this.m_oChampAP._nGetNbConteneurs(!1);return t<=0?n.m_nDimensionLateralePxConteneurMin:undefined!==n.m_nDimensionLateralePxRessource?n.m_nDimensionLateralePxRessource:Math.max(Math.floor((this._vnDimensionLateralePxCorps()-1)/t),n.m_nDimensionLateralePxConteneurMin)};WDVueAPBase.prototype._nGetDefilementVertical=function(){return this.__nGetClientOuScroll(this.m_oHoteCorps,"scrollTop")};WDVueAPBase.prototype._nGetDefilementHorizontal=function(){return this.__nGetClientOuScroll(this.m_oHoteCorps,"scrollLeft")};WDVueAPBase.prototype._SetDefilementVertical=function(n){this.m_oHoteCorps.scrollTop=n};WDVueAPBase.prototype._SetDefilementHorizontal=function(n){this.m_oHoteCorps.scrollLeft=n};WDVueAPBase.prototype.__sGetSelecteurClass=function(n){return(":"==n.charAt(0)?"":".")+n};WDVueAPBase.prototype.__sGetSelecteur=function(n,t,i){var r=[];return r.push("#"+this.__sGetNomElement(this.m_oChampAP.ms_sSuffixeHote)),n!==undefined&&r.push(this.__sGetSelecteurClass(n)),i!==undefined?r.push(t+this.__sGetSelecteurClass(i)):t&&r.push(t),r.join(" ")};WDVueAPBase.prototype.__StyleCreeGlobal=function(n,t){clWDUtil.CreeStyle(this.ms_oFeuilleStyleGlobale,n,t.join(";"))};WDVueAPBase.prototype.__StyleCree=function(n,t){this.m_oStyle.Ajoute(n,t)};WDVueAPBase.prototype.__StyleComplete=function(n,t){this.m_oStyle.Complete(n,t)};WDVueAPBase.prototype.__StyleSupprime=function(n){this.m_oStyle.Supprime(n)};WDVueAPBase.prototype.__nGetDimensionPxDepuisDureeMs=function(n,t){return t*this.vnGetDimensionPxGraduation(n)/this.m_nGraduationDureeMs};WDVueAPBase.prototype._vnGetDebutRendezVous=function(n,t,i,r){return this.__nGetDimensionPxDepuisDifferenceDate(n,i,r,!0)};WDVueAPBase.prototype._vnGetDebutRendezVousTitreSeul=function(n,t){var i=n.m_nHauteurZoneJourneeComplete;return this._nGetHautRendezVousTitreSeul(n,t,0,0,i)};WDVueAPBase.prototype._nGetHautRendezVousTitreSeul=function(n,t,i,r,u){var o=Math.max(u-r,0),f=this._nGetHauteurRendezVousTitreSeul(n),e=0;return 1<t.m_nNbSuperpositions&&(e=Math.min(f,Math.floor((o-f)/(t.m_nNbSuperpositions-1)))),i+r+t.m_nSuperposition*e};WDVueAPBase.prototype._nGetHauteurRendezVousTitreSeul=function(){return 26};WDVueAPBase.prototype.__nGetDimensionPxDepuisDifferenceDate=function(n,t,i,r){var e=t-i,u=Math.floor((t-i)/864e5),f=clWDUtil.nGetHeureJour(i),h=clWDUtil.nGetHeureJour(t),o,s;return h<f&&u++,e-=u*(n.m_nHeureAfficheMin+864e5-n.m_nHeureAfficheMax),i+=u*864e5,f<n.m_nHeureAfficheMin?(e-=n.m_nHeureAfficheMin-f,u--):f>=n.m_nHeureAfficheMax&&(e-=n.m_nHeureAfficheMin+f-n.m_nHeureAfficheMax,u--),o=this.__nGetDimensionPxDepuisDureeMs(n,e),s=this._vnGetHauteurRuptureJour(n),s&&(o+=(u+(r?1:0))*s),o};WDVueAPBase.prototype.vnGetDimensionPxGraduation=function(n){return n.m_nDimensionPxGraduation};WDVueAPBase.prototype.voGetDateFinAffichage=function(n){return n.m_oDateFin};WDVueAPBase.prototype.__nGetDimensionPxSansBordure=function(n,t){return n-(t.m_nBordureV?t.m_nBordureV:0)};WDVueAPBase.prototype.__nGetDimensionPxAvecBordure=function(n,t){return n+(t.m_nBordureV?t.m_nBordureV:0)};clWDUtil.bHTML5?(WDVueAPBase.prototype.__nGetDimensionPxSansBordureTitresVerticaux=function(n){return n},WDVueAPBase.prototype.ms_tabStyleBoxSizingTitresVerticaux=["box-sizing:border-box"],WDVueAPBase.prototype.ms_nPaddingTitresVerticaux=0):(WDVueAPBase.prototype.__nGetDimensionPxSansBordureTitresVerticaux=WDVueAPBase.prototype.__nGetDimensionPxSansBordure,WDVueAPBase.prototype.ms_tabStyleBoxSizingTitresVerticaux=[],WDVueAPBase.prototype.ms_nPaddingTitresVerticaux=WDVueAPBase.prototype.ms_nPaddingTitreCalcul);WDVueAPBase.prototype.__nGetDimensionPxSansBordureConteneur=function(n,t){var i=this.__nGetDimensionPxSansBordure(this._nGetDimensionLateralePxConteneur(n),n.m_oStyleNormal);return t?this.__nGetDimensionPxSansBordure(i,this._voGetStyleTitreSecondaireDernier(n)):i};WDVueAPBase.prototype._vnGetNbGraduationsParalleles=function(){return 1};WDVueAPBase.prototype.__nGetDimensionLateralePxToutesGraduations=function(n){return this.m_oChampAP._nGetNbConteneurs(!1)*this._nGetDimensionLateralePxConteneur(n)};WDVueAPBase.prototype._vnGetHauteurTitresHorizontaux=function(n,t){return Math.floor(n.m_nHauteurTitresHorizontal/t)};WDVueAPBase.prototype._vbJourneeEntiere=function(n,t){return t&&!!n.m_nHauteurZoneJourneeComplete};WDVueAPBase.prototype._bRendezVousTitreSeul=function(n,t){return this._vbJourneeEntiere(n,t.m_bJourneeEntiere)};WDVueAPBase.prototype._bRendezVousTitreSeulSaufSiSansTitre=function(n,t){return this._bRendezVousTitreSeul(n,t)&&!1!==n.m_bAfficherTitreRendezVous};WDVueAPBase.prototype.bUnRendezVousRedimensionnable=function(n,t){return n.m_bRedimensionnementRendezVous&&n.m_bActif&&!this._bRendezVousTitreSeul(n,t)};WDVueAPBase.prototype._vnGetHauteurRuptureJour=function(){return 0};WDVueAPBase.prototype._vbAfficheTouteslesHeures=function(){return!1};WDVueAPBase.prototype.__OnDefilementCorpsMolette=function(n){var t;t=n.wheelDelta?-n.wheelDelta*2/3:(n.detail?n.detail:0)*20;this.m_oHoteCorps.scrollTop+=t};WDVueAPBase.prototype.__OnDefilementTouchTitre=function(n,t){this.m_oHoteCorps.scrollLeft+=n;this.m_oHoteCorps.scrollTop+=t};WDVueAPBase.prototype.__OnDefilementCorps=function(){if(!this.m_bDansGetDefilement)return this.__DansDefilement(this,this.__OnDefilementCorpsInterne,arguments)};WDVueAPBase.prototype.__OnDefilementCorpsInterne=function(){var t=this.m_oChampAP.m_oParametres,r=this._nGetDefilementHorizontal(),n=this._nGetDefilementVertical(),u,i;if(this.m_nLargeurClientCorps!=this.__nGetClientWidth(this.m_oHoteTitresHorizontal)&&(this.m_oHoteTitresHorizontal.style.width=this.m_nLargeurClientCorps+"px"),r!=this.m_oHoteTitresHorizontal.scrollLeft&&(this.m_oHoteTitresHorizontal.scrollLeft=r),this.m_oHoteTitresVertical&&(u=this.__nGetClientHeight(this.m_oHoteTitresVertical),this.m_nHauteurClientCorps!=u?this.m_oHoteTitresVertical.style.height=this.m_nHauteurClientCorps+"px":this.m_oHoteTitresVertical.firstChild&&n!=-parseInt(clWDUtil.oGetCurrentStyle(this.m_oHoteTitresVertical.firstChild).top,10)&&(i=-n,i+=t.m_nHauteurTitresHorizontal,this.ms_bZoneTitreSeulIndependanteExterne&&(i+=this._vnGetHauteurZoneTitreSeulIndependante(t)),this.m_oHoteTitresVertical.firstChild.style.top=i+"px",this.m_oHoteTitresVertical.firstChild.style.clip="rect("+n+"px, auto, "+(n+this.m_nHauteurClientCorps)+"px, auto)")),1<this.m_oHoteCorps.offsetHeight){var e=this.m_nDefilementPrincipal,f=this._vnGetDefilementPrincipal(),o=this._vnGetDefilementLateral();e!=f&&(this.m_nDefilementPrincipal=f,this.m_oChampAP.ConstruitParam());this.m_nDefilementLateral=o}else this.m_oHoteTitresHorizontal.style.width="1px",this.m_oHoteTitresVertical&&(this.m_oHoteTitresVertical.style.height="1px");this.__HTMLPlaceRendezVousSuppressionAutonome(t);this._vOnDefilementCorps(t,r,n)};WDVueAPVerticale.prototype=new WDVueAPBase;WDVueAPVerticale.prototype.constructor=WDVueAPVerticale;WDVueAPVerticale.prototype.ms_sNomFondRupture="WDPLN-FondRupture";WDVueAPVerticale.prototype.ms_nPaddingLibJour=3;WDVueAPVerticale.prototype.ms_sNomGeneralSpecifique="WDPLN-ZoneGeneralVertical";WDVueAPVerticale.prototype.ms_sStyleDimension="height";WDVueAPVerticale.prototype.ms_sStyleDebutLateral="left";WDVueAPVerticale.prototype.ms_sStyleDimensionLaterale="width";WDVueAPVerticale.prototype.ms_sCurseurRedim="N-resize";WDVueAPVerticale.prototype._vInitInitiale=function(){var n,t;WDVueAPBase.prototype._vInitInitiale.apply(this,arguments);n="."+this.ms_sNomGeneralSpecifique+" ";this.__StyleCreeGlobal(n+"."+this.ms_sNomCorps,["overflow-x:auto","overflow-y:scroll","position:relative"]);this.__StyleCreeGlobal(n+"td."+this.ms_sNomCorpsQuadrillage,["height:0px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousRepetition,["position:absolute","top:"+this.ms_nPaddingRendezVous+"px","right:"+this.ms_nPaddingRendezVous+"px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousImportance,["position:absolute","bottom:"+this.ms_nPaddingRendezVous+"px","right:"+this.ms_nPaddingRendezVous+"px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousRedimDebutBefore,["top:0","left:0","height:5px","width:100%"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousRedimFinAfter,["bottom:0","left:0","height:5px","width:100%"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomFondRupture,["z-index:"+this.ms_nZIndexFondRupture,"position:relative"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomTitresSecondaires,["text-align:right"]);t=["z-index:"+this.ms_nZIndexFondRupture,"overflow:hidden","padding-left:"+this.ms_nPaddingLibJour+"px","padding-right:"+this.ms_nPaddingLibJour+"px","position:relative"];this.__StyleCreeGlobal(n+"."+this.ms_sNomFondRupture+" ."+this.ms_sNomJour,t);this.__StyleCreeGlobal(n+"."+this.ms_sNomTitresVertical+" span",["display: table-cell"]);t=["position:relative","float:left"];this.__StyleCreeGlobal(n+"."+this.ms_sNomHeure,t);t.push("width:1px !important");this.__StyleCreeGlobal(n+"."+this.ms_sNomCorpsQuadrillage+" ."+this.ms_sNomJour,t);this.__StyleCreeGlobal(n+"."+this.ms_sNomCorpsQuadrillage+" ."+this.ms_sNomJourneeComplete,t);WDVueAPVerticale.prototype._vInitInitiale=clWDUtil.m_pfVide};WDVueAPVerticale.prototype._vnGetHauteurZoneTitreSeulIndependante=function(){return 0};WDVueAPVerticale.prototype.vSetDebut=WDChamp.prototype.s_SetStyleTop;WDVueAPVerticale.prototype.vSetLongueur=WDChamp.prototype.s_SetStyleHeight;WDVueAPVerticale.prototype.vSetDebutLateral=WDChamp.prototype.s_SetStyleLeft;WDVueAPVerticale.prototype.vSetLongueurLateral=WDChamp.prototype.s_SetStyleRight;WDVueAPVerticale.prototype._vInitCSS_TitresConteneurs=function(n){return this.__InitCSS_TitresHorizontaux(n,!0)};WDVueAPVerticale.prototype._vInitCSS_TitresHeures=function(n){return this.__InitCSS_TitresVerticaux(n,!1)};WDVueAPVerticale.prototype._vInitCSS_TitresHeuresAgenda=clWDUtil.m_pfVide;WDVueAPVerticale.prototype._vInitCSS_LibJour=function(n){var t,i,r,f,e,o,u;n.m_nHauteurLibJour&&(t=n.m_oStyleLibJourSemaine,this.__StyleCree(this.__sGetSelecteur(this.ms_sNomTitresVertical,"div",this.ms_sNomFondRupture),["overflow:visible","padding:0px"]),r=[],t.m_cFond&&r.push("background-color:"+t.m_cFond),i=this._nGetOffsetBordure(t,2),this.m_nLargeurLibJour=this.__nGetLargeurLibJour(n,i),f=n.m_nHauteurLibJour+i,t.m_nBordureV&&(e=t.m_nBordureV,o=t.m_cBordureV,r.push("border:solid "+e+"px "+o)),r.push("height:"+f+"px"),r.push("width:"+this.m_nLargeurLibJour+"px"),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomTitresVertical,"",this.ms_sNomJour),r),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomCorps,"",this.ms_sNomJour),["height:"+n.m_nHauteurLibJour+"px","width:"+this.__nGetLargeurLibJour(n,i,!0)+"px"]),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomTitresVertical,"td",this.ms_sNomFondRupture),["height:"+n.m_nHauteurLibJour+"px"]));n.m_nHauteurZoneJourneeComplete&&(t=n.m_oStyleJourneeComplete,u=this.ms_bZoneTitreSeulIndependanteExterne?this._vnGetDimensionLateralePxGraduation(n):this.m_nLargeurClientCorps,t.m_cFond&&this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondCouleur," ",this.ms_sNomJourneeComplete),["background-color:"+t.m_cFond,"width:"+u+"px","height:"+n.m_nHauteurZoneJourneeComplete+"px","float:left"]),t.m_nBordureV&&(i=this._nGetOffsetBordure(t,2),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondBordure," ",this.ms_sNomJourneeComplete),["border:solid "+t.m_nBordureV+"px "+t.m_cBordureV,"width:"+(u+i)+"px","height:"+(n.m_nHauteurZoneJourneeComplete+i)+"px","float:left"])),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomTitresVertical," ",this.ms_sNomJourneeComplete),["height:"+(n.m_nHauteurZoneJourneeComplete+this._nGetOffsetBordure(t,1))+"px"]))};WDVueAPVerticale.prototype._vOnDefilementCorps=function(n){var t,r,i,u;(n.m_nHauteurLibJour||n.m_nHauteurZoneJourneeComplete)&&(t=this.__nGetLargeurLibJour(n,this._nGetOffsetBordure(n.m_oStyleLibJourSemaine,2)),t!=this.m_nLargeurLibJour&&(this.m_nLargeurLibJour=t,this.m_oStyle.CreationAjout(),n.m_nHauteurLibJour&&this.__StyleComplete(this.__sGetSelecteur(this.ms_sNomTitresVertical,"",this.ms_sNomJour),["width:"+t+"px"]),n.m_nHauteurZoneJourneeComplete&&(r=this.ms_bZoneTitreSeulIndependanteExterne?this._vnGetDimensionLateralePxGraduation(n):this.m_nLargeurClientCorps,i=n.m_oStyleJourneeComplete,i.m_cFond&&this.__StyleComplete(this.__sGetSelecteur(this.ms_sNomFondCouleur," ",this.ms_sNomJourneeComplete),["width:"+r+"px","height:"+n.m_nHauteurZoneJourneeComplete+"px"]),i.m_nBordureV&&(u=this._nGetOffsetBordure(i,2),this.__StyleComplete(this.__sGetSelecteur(this.ms_sNomFondBordure," ",this.ms_sNomJourneeComplete),["width:"+(r+u)+"px","height:"+(n.m_nHauteurZoneJourneeComplete+u)+"px","float:left"]))),this.m_oStyle.CreationFin()))};WDVueAPVerticale.prototype._vtabInitCSS_DimensionPxPrincipale=WDVueAPBase.prototype._tabInitCSS_DimensionHauteur;WDVueAPVerticale.prototype._vtabInitCSS_DimensionPxLaterale=WDVueAPBase.prototype._tabInitCSS_DimensionLargeur;WDVueAPVerticale.prototype.ms_sCSSPositionPxPrincipale="top";WDVueAPVerticale.prototype._vtabInitCSS_BorduresPerpendiculaires=WDVueAPBase.prototype._tabInitCSS_BorduresHautBas;WDVueAPVerticale.prototype._vtabInitCSS_BorduresLaterales=WDVueAPBase.prototype._tabInitCSS_BorduresGaucheDroite;WDVueAPVerticale.prototype._vnGetDimensionClienteLaterale=WDVueAPBase.prototype.__nGetLargeur;WDVueAPVerticale.prototype._vnDimensionLateralePxCorps=function(){return this.m_nLargeurClientCorps};WDVueAPVerticale.prototype._vnGetHauteurRuptureJour=function(n){var t=0;return n.m_nHauteurLibJour&&(t+=n.m_nHauteurLibJour),n.m_nHauteurZoneJourneeComplete&&(t+=n.m_nHauteurZoneJourneeComplete),t};WDVueAPVerticale.prototype._vtabGetStylesHorizontaux=function(n){return[n.m_oStyleLibRessource]};WDVueAPVerticale.prototype._voGetStyleVertical=function(n){return n.m_oStyleLibHeure};WDVueAPVerticale.prototype._voGetStyleTitreSecondaireDernier=function(n){return this._voGetStyleVertical(n)};WDVueAPVerticale.prototype._vHTMLAfficheTitresHorizontal=function(n,t){var r=0,i,e,o;if(t.m_bLigneTitreSemaine){var f=this.m_oChampAP._nGetNbConteneurs(!1),s=this._vnGetDimensionLateralePxGraduation(t),u=s*f;u=this.__nGetDimensionPxSansBordure(u,t.m_oStyleLibNumeroSemaine);n.push('<tr class="');n.push(this.ms_sNomTitresConteneurs);n.push(r);n.push('"><td class="');n.push(this.ms_sNomPremier);n.push('" colspan="');n.push(f);n.push('">');this.__HTMLAfficheDiv(n,t.m_oStyleLibNumeroSemaine.m_sClasses,undefined,this.__sGetLibelleEnHTML(t,this.m_oChampAP._sGetNomConteneur(0).split(this.ms_sSeparateurFormatLigne)[0]),undefined,this._tabInitCSS_DimensionLargeur(["display:table-cell"],u,this.ms_nPaddingTitreCalcul,0,!0).join(";"));n.push("<\/td><\/tr>");r++}for(n.push('<tr class="'),n.push(this.ms_sNomTitresConteneurs),n.push(r),n.push('">'),e=this.m_oChampAP._nGetNbConteneurs(!1),i=0;i<e;i++)n.push("<td"),i==0&&(n.push(' class="'),n.push(this.ms_sNomPremier),n.push('"')),n.push(">"),o=this._oGetStyleHorizontalDernier(t),this.__HTMLAfficheDivLibelle(n,t,o.m_sClasses,this.m_oChampAP._sGetNomConteneur(i).split(this.ms_sSeparateurFormatLigne)[r],!1),n.push("<\/td>");n.push("<\/tr>")};WDVueAPVerticale.prototype._vHTMLAfficheTitresVertical=function(n,t){var f=this.m_tabGraduations,r,u=f.length,i;for(this.ms_bReordonneGraduationAffichage&&(u=u/this._vnGetNbGraduationsParalleles(t)),r=0;r<u;r++)i=f[r],i.m_bRupture&&t.m_nHauteurLibJour&&(n.push('<tr><td class="'),n.push(this.ms_sNomFondRupture),n.push('"><div class="'),n.push(this.ms_sNomFondRupture),n.push('">'),n.push('<div class="'),n.push(this.ms_sNomJour),n.push(" "),n.push(t.m_oStyleLibJourSemaine.m_sClasses),n.push('">'),n.push(clWDUtil.sEncodeInnerHTML(i.m_sRuptureLibelle,!0,!1)),n.push("<\/div><\/div><\/td><\/tr>"),t.m_nHauteurZoneJourneeComplete&&(n.push('<tr class="'),n.push(this.ms_sNomTitresSecondaires),n.push('"><td>'),this.__HTMLAfficheDiv(n,this.ms_sNomJourneeComplete),n.push("<\/td><\/tr>"))),n.push('<tr class="'),n.push(this.ms_sNomTitresSecondaires),n.push('"><td'),r+1>=u&&(n.push(' class="'),n.push(this.ms_sNomPremier),n.push('"')),n.push(">"),n.push('<div class="'),n.push(this.ms_sNomHeureLibelle),n.push(" "),n.push(i.m_sLibelleClasse),i.m_sLibelleCouleurFond&&(n.push('" style="background-color:'),n.push(i.m_sLibelleCouleurFond)),n.push('"><span class="'),n.push(i.m_sLibelleClasse),n.push('">'),n.push(clWDUtil.sEncodeInnerHTML(i.m_sLibelle,!0,!1)),n.push("<\/span><\/div><\/td><\/tr>")};WDVueAPVerticale.prototype._vnGetDefilementPrincipal=WDVueAPBase.prototype._nGetDefilementVertical;WDVueAPVerticale.prototype._vnGetDefilementLateral=WDVueAPBase.prototype._nGetDefilementHorizontal;WDVueAPVerticale.prototype._vSetDefilementPrincipal=WDVueAPBase.prototype._SetDefilementVertical;WDVueAPVerticale.prototype._vSetDefilementLateral=WDVueAPBase.prototype._SetDefilementHorizontal;WDVueAPVerticale.prototype.__nGetLargeurLibJour=function(n,t,i){var r=this.m_nLargeurClientCorps,u;return u=0!=r?r+t-2*this.ms_nPaddingLibJour:1,(i?0:n.m_nLargeurTitresVertical)+u};WDVueAPVerticale.prototype.voGetOffsetDebut=function(n){return n.offsetTop};WDVueAPVerticale.prototype.voGetOffsetLongueur=function(n){return n.offsetHeight};WDVueAPVerticale.prototype.vbGetVertical=function(){return!0};WDVueAPVerticale.prototype.vnGetOffsetPosition=function(n,t){return t};WDVueAPVerticale.prototype.vnGetPositionHote=function(n,t,i,r){return this._nGetPositionHote(n,i,!1,r)};WDVueAPVerticale.prototype._vsGetHTMLRendezVous=function(n,t,i,r){return this._sGetHTMLRendezVous(n,t,r,i)};WDVueAPVerticale.prototype._vnGetDebutRendezVousTitreSeul=function(n,t,i,r){var u=0,f,e;return n.m_nHauteurLibJour&&(u=n.m_nHauteurLibJour),f=this.__nGetDimensionPxDepuisDifferenceDate(n,i,r,!1),e=n.m_nHauteurZoneJourneeComplete,this._nGetHautRendezVousTitreSeul(n,t,f,u,e)};WDVueAPVerticale.prototype._vnDimensionHorizontalRendezVousTitreSeul=function(n,t){var i=this._nGetDimensionLateralePxConteneur(n);return t.m_oDebut="0",t.m_oLongueur=i-this.ms_nPaddingLateralDebut-this.ms_nPaddingLateralFin,i-this.ms_nPaddingLateralDebut-this.ms_nPaddingLateralFin};WDVueAPHorizontale.prototype=new WDVueAPBase;WDVueAPHorizontale.prototype.constructor=WDVueAPHorizontale;WDVueAPHorizontale.prototype.ms_sNomGeneralSpecifique="WDPLN-ZoneGeneralHorizontal";WDVueAPHorizontale.prototype.ms_sStyleDimension="width";WDVueAPHorizontale.prototype.ms_sStyleDebutLateral="top";WDVueAPHorizontale.prototype.ms_sStyleDimensionLaterale="height";WDVueAPHorizontale.prototype.ms_sCurseurRedim="E-resize";WDVueAPHorizontale.prototype._vInitInitiale=function(){var n,t;WDVueAPBase.prototype._vInitInitiale.apply(this,arguments);n="."+this.ms_sNomGeneralSpecifique+" ";this.__StyleCreeGlobal(n+"."+this.ms_sNomCorps,["overflow-x:scroll","overflow-y:auto","position:relative"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomTitresHorizontal+" td",["overflow:hidden"]);this.__StyleCreeGlobal(n+"td."+this.ms_sNomCorpsQuadrillage,["width:0px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousRepetition,["position:absolute","top:"+this.ms_nPaddingRendezVous+"px","right:"+this.ms_nPaddingRendezVous+"px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousImportance,["position:absolute","bottom:"+this.ms_nPaddingRendezVous+"px","right:"+this.ms_nPaddingRendezVous+"px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousRedimDebutBefore,["left:0","top:0","height:100%","width:5px"]);this.__StyleCreeGlobal(n+"."+this.ms_sNomRendezVousRedimFinAfter,["right:0","top:0","height:100%","width:5px"]);t=["position:relative","float:left"];this.__StyleCreeGlobal(n+"."+this.ms_sNomHeure,t);WDVueAPHorizontale.prototype._vInitInitiale=clWDUtil.m_pfVide};WDVueAPHorizontale.prototype.vSetDebut=WDChamp.prototype.s_SetStyleLeft;WDVueAPHorizontale.prototype.vSetLongueur=WDChamp.prototype.s_SetStyleWidth;WDVueAPHorizontale.prototype.vSetDebutLateral=WDChamp.prototype.s_SetStyleTop;WDVueAPHorizontale.prototype.vSetLongueurLateral=WDChamp.prototype.s_SetStyleBottom;WDVueAPHorizontale.prototype._vInitCSS_TitresConteneurs=function(n){return this.__InitCSS_TitresVerticaux(n,!0)};WDVueAPHorizontale.prototype._vInitCSS_TitresHeures=function(n){return this.__InitCSS_TitresHorizontaux(n,!1)};WDVueAPHorizontale.prototype._vInitCSS_LibJour=function(n){var i;if(n.m_nHauteurZoneJourneeComplete){var t=n.m_oStyleJourneeComplete,u=(n.m_nHeureAfficheMax-n.m_nHeureAfficheMin)/36e5,r=this.vnGetDimensionPxGraduation(n)*u;t.m_cFond&&this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondCouleur," ",this.ms_sNomJourneeComplete),["background-color:"+t.m_cFond,"width:"+r+"px","height:"+n.m_nHauteurZoneJourneeComplete+"px","float:left"]);t.m_nBordureV&&(i=this._nGetOffsetBordure(t,2),this.__StyleCree(this.__sGetSelecteur(this.ms_sNomFondBordure," ",this.ms_sNomJourneeComplete),["border:solid "+t.m_nBordureV+"px "+t.m_cBordureV,"width:"+(r+i)+"px","height:"+(n.m_nHauteurZoneJourneeComplete+i)+"px","float:left"]))}};WDVueAPHorizontale.prototype._vOnDefilementCorps=function(n,t){var e=0,o,s,u,i,r,f;for(n.m_bLigneTitreMois&&(this.__DecaleRuptureMoisSemaine(n.m_oStyleLibNomMois,e,this.m_tabLargeurMois,t),e++),n.m_bLigneTitreSemaine&&this.__DecaleRuptureMoisSemaine(n.m_oStyleLibNumeroSemaine,e,this.m_tabLargeurSemaine,t),o=this.m_oChampAP.m_oDonnees.m_tabRendezVous,s=o.length,u=0;u<s;u++)i=o[u],i.m_oDiv&&(r=undefined,f=i.m_oDiv.offsetLeft,f<t&&t<f+i.m_oDiv.offsetWidth?(r=t-f+"px",i.m_bTitreDecale=!0):i.m_bTitreDecale&&(r="",delete i.m_bTitreDecale),undefined!==r&&(i.m_oDiv.getElementsByTagName("div")[0].style.textIndent=r))};WDVueAPHorizontale.prototype._vtabInitCSS_DimensionPxPrincipale=WDVueAPBase.prototype._tabInitCSS_DimensionLargeur;WDVueAPHorizontale.prototype._vtabInitCSS_DimensionPxLaterale=WDVueAPBase.prototype._tabInitCSS_DimensionHauteur;WDVueAPHorizontale.prototype.ms_sCSSPositionPxPrincipale="left";WDVueAPHorizontale.prototype._vtabInitCSS_BorduresPerpendiculaires=WDVueAPBase.prototype._tabInitCSS_BorduresGaucheDroite;WDVueAPHorizontale.prototype._vtabInitCSS_BorduresLaterales=WDVueAPBase.prototype._tabInitCSS_BorduresHautBas;WDVueAPHorizontale.prototype._vnGetDimensionClienteLaterale=WDVueAPBase.prototype.__nGetHauteur;WDVueAPHorizontale.prototype._vnGetHauteurTitresHorizontaux=function(n,t){return n.m_bLigneTitreMois&&t++,n.m_bLigneTitreSemaine&&t++,n.m_bLigneTitreJourDouble&&t++,n.m_bLigneTitreHeure&&t++,WDVueAPBase.prototype._vnGetHauteurTitresHorizontaux.apply(this,[n,t])};WDVueAPHorizontale.prototype._vnDimensionLateralePxCorps=function(){return this.m_nHauteurClientCorps-1};WDVueAPHorizontale.prototype._vtabGetStylesHorizontaux=function(n){var t=[];return n.m_bLigneTitreMois&&t.push(n.m_oStyleLibNomMois),n.m_bLigneTitreSemaine&&t.push(n.m_oStyleLibNumeroSemaine),t.push(n.m_oStyleLibJourSemaine),n.m_bLigneTitreHeure&&t.push(n.m_oStyleLibHeure),t};WDVueAPHorizontale.prototype._voGetStyleVertical=function(n){return n.m_oStyleLibRessource};WDVueAPHorizontale.prototype._voGetStyleTitreSecondaireDernier=function(n){return this._oGetStyleHorizontalDernier(n)};WDVueAPHorizontale.prototype._vHTMLAfficheTitresHorizontal=function(n,t){var r=1,i;t.m_bLigneTitreHeure&&(r=(t.m_nHeureAfficheMax-t.m_nHeureAfficheMin)/36e5);i=0;t.m_bLigneTitreMois&&(this.m_tabLargeurMois=[],this.__HTMLAfficheTitresMoisSemaine(n,t,t.m_oStyleLibNomMois,r,this.m_tabLargeurMois,i,this.__nGetNbJoursAfficheMois),i++);t.m_bLigneTitreSemaine&&(this.m_tabLargeurSemaine=[],this.__HTMLAfficheTitresMoisSemaine(n,t,t.m_oStyleLibNumeroSemaine,r,this.m_tabLargeurSemaine,i,this.__nGetNbJoursAfficheSemaine),i++);this.__HTMLAfficheTitresJours(n,t,t.m_oStyleLibJourSemaine,r,i);i++;t.m_bLigneTitreHeure&&this.__HTMLAfficheTitresHeures(n,t,r,i)};WDVueAPHorizontale.prototype.__HTMLAfficheTitresMoisSemaine=function(n,t,i,r,u,f,e){var v,h,y,s;n.push('<tr class="');n.push(this.ms_sNomTitresSecondaires);n.push(f);n.push(" ");n.push(this.ms_sNomJour);n.push('">');for(var l=this.m_tabGraduations,a=l.length,c=0,p=this.vnGetDimensionPxGraduation(t),o=0;o<a;o+=c*r)v=l[o],c=e.apply(this,[t,r,o]),h=r*c,n.push('<td colspan="'),n.push(h),o+h>=a&&(n.push('" class="'),n.push(this.ms_sNomPremier)),n.push('">'),y=v.m_sRuptureLibelle.split(this.ms_sSeparateurFormatLigne),s=p*h,u.push(s),s=this.__nGetDimensionPxSansBordure(s,i),this.__HTMLAfficheDiv(n,this.ms_sNomJour+" "+i.m_sClasses,undefined,clWDUtil.sEncodeInnerHTML(y[f],!0,!1),undefined,this._tabInitCSS_DimensionLargeur([],s,this.ms_nPaddingTitreCalcul,0,!0).join(";")),n.push("<\/td>");n.push("<\/tr>")};WDVueAPHorizontale.prototype.__nGetNbJoursAfficheMois=function(n,t,i){for(var u=this.m_tabGraduations,e=u.length,f=1,o=u[i].m_oDateDebut.getMonth(),r=i+t;r<e;r+=t,f++)if(u[r].m_oDateDebut.getMonth()!=o)break;return f};WDVueAPHorizontale.prototype.__nGetNbJoursAfficheSemaine=function(n,t,i){for(var u=this.m_tabGraduations,e=u.length,f=1,r=i+t;r<e;r+=t,f++)if(u[r].m_oDateDebut.getDay()==n.m_nPremierJourSemaine)break;return f};WDVueAPHorizontale.prototype.__HTMLAfficheTitresJours=function(n,t,i,r,u){var l,o,s,f,h,a,c,e,v;for(n.push('<tr class="'),n.push(this.ms_sNomTitresSecondaires),n.push(u),n.push(" "),n.push(this.ms_sNomJour),n.push('">'),l=this.__nGetDimensionPxSansBordure(this.vnGetDimensionPxGraduation(t)*r,i),o=this._tabInitCSS_DimensionLargeur([],l,this.ms_nPaddingTitreCalcul,0,!0).join(";"),(t.m_bLigneTitreMois||t.m_bLigneTitreSemaine)&&(o+=";text-align:center"),s=this.m_tabGraduations,h=s.length,f=0;f<h;f+=r){for(a=s[f],n.push('<td colspan="'),n.push(r),f+r>=h&&(n.push('" class="'),n.push(this.ms_sNomPremier)),n.push('">'),c=a.m_sRuptureLibelle.split(this.ms_sSeparateurFormatLigne),v=c.length,e=u;e<v;e++)n.push('<div class="'),n.push(e==u?this.ms_sNomJour:this.ms_sNomJourLigneSupplementaire),n.push(" "),n.push(i.m_sClasses),n.push('" style="'),n.push(o),n.push('">'),n.push(clWDUtil.sEncodeInnerHTML(c[e],!0,!1)),n.push("<\/div>");n.push("<\/td>")}n.push("<\/tr>")};WDVueAPHorizontale.prototype.__HTMLAfficheTitresHeures=function(n,t,i,r){var f,c;n.push('<tr class="');n.push(this.ms_sNomTitresSecondaires);n.push(r);n.push('">');for(var s=this.m_tabGraduations,h=s.length,o,u,l=this.vnGetDimensionPxGraduation(t),e=0;e<h;e+=u,o-=u)f=s[e],f.m_bRupture&&(o=i),u=Math.min(o,t.m_nNbGraduationParHeureAffichee),n.push("<td"),1<u&&(n.push(' colspan="'),n.push(u),n.push('"')),e+u>=h&&(n.push(' class="'),n.push(this.ms_sNomPremier),n.push('"')),n.push(">"),n.push('<div class="'),n.push(this.ms_sNomHeureLibelle),n.push(" "),n.push(f.m_sLibelleClasse),n.push('" style="'),c=this.__nGetDimensionPxSansBordure(l*u,t.m_oStyleLibHeure),n.push(this._tabInitCSS_DimensionLargeur([],c,this.ms_nPaddingTitreCalcul,0,!0).join(";")),f.m_sLibelleCouleurFond&&(n.push(";background-color:"),n.push(f.m_sLibelleCouleurFond)),n.push('">'),n.push(clWDUtil.sEncodeInnerHTML(f.m_sLibelle,!0,!1)),n.push("<\/div><\/td>");n.push("<\/tr>")};WDVueAPHorizontale.prototype._vHTMLAfficheTitresVertical=function(n,t){for(var u=this.m_oChampAP._nGetNbConteneurs(!1),r,i=0;i<u;i++)n.push('<tr class="'),n.push(this.ms_sNomTitresConteneurs),n.push('"><td class="'),n.push(this.ms_sNomTitresConteneursCellule),i==0&&(n.push(" "),n.push(this.ms_sNomPremier)),n.push('">'),r=this._nGetDimensionLateralePxConteneur(t),0==i&&(r=this.__nGetDimensionPxAvecBordure(r,this._voGetStyleVertical(t))),this.__HTMLAfficheDivLibelle(n,t,t.m_oStyleLibRessource.m_sClasses,this.m_oChampAP._sGetNomConteneur(i),r,!0),n.push("<\/td>");n.push("<\/tr>")};WDVueAPHorizontale.prototype._vnGetDefilementPrincipal=WDVueAPBase.prototype._nGetDefilementHorizontal;WDVueAPHorizontale.prototype._vnGetDefilementLateral=WDVueAPBase.prototype._nGetDefilementVertical;WDVueAPHorizontale.prototype._vSetDefilementPrincipal=WDVueAPBase.prototype._SetDefilementHorizontal;WDVueAPHorizontale.prototype._vSetDefilementLateral=WDVueAPBase.prototype._SetDefilementVertical;WDVueAPHorizontale.prototype.__DecaleRuptureMoisSemaine=function(n,t,i,r){var o=this.m_oHoteTitresHorizontal.getElementsByTagName("tr"),h,u,f,e,c;if(o&&o.length&&o[t]&&(h=o[t],u=h.getElementsByTagName("td"),u&&u.length&&u.length==i.length))for(f=0,c=u.length,e=0;e<c;e++){var l=i[e],s=this.__nGetDimensionPxSansBordure(l,n),a=u[e];r>=f&&r<=s+f?this.__DecaleUneRuptureMoisSemaine(a,r-f,s):this.__DecaleUneRuptureMoisSemaine(a,0,s);f+=l}};WDVueAPHorizontale.prototype.__DecaleUneRuptureMoisSemaine=function(n,t,i){var r,u,f;n.style.paddingLeft=0!=t?t+"px":"";n.style.width=Math.max(0,i-t)+"px";r=Math.max(0,i-t-this.ms_nPaddingTitreCalcul)+"px";n.firstChild.style.width=r;n.firstChild.style.minWidth=r;n.firstChild.style.maxWidth=r;u="";f="";i-t<this.ms_nPaddingTitre?(u="0xp",f=Math.max(0,i-t)+"px"):i-t<this.ms_nPaddingTitreCalcul&&(u=Math.max(0,i-t-this.ms_nPaddingTitre)+"px");n.firstChild.style.paddingLeft=u;n.firstChild.style.paddingRight=f};WDVueAPHorizontale.prototype.voGetOffsetDebut=function(n){return n.offsetLeft};WDVueAPHorizontale.prototype.voGetOffsetLongueur=function(n){return n.offsetWidth};WDVueAPHorizontale.prototype.vbGetVertical=function(){return!1};WDVueAPHorizontale.prototype.vnGetOffsetPosition=function(n){return n};WDVueAPHorizontale.prototype.vnGetPositionHote=function(n,t,i,r){return this._nGetPositionHote(n,t,!0,r)};WDVueAPHorizontale.prototype._vsGetHTMLRendezVous=WDVueAPBase.prototype._sGetHTMLRendezVous;WDVueAPHorizontale.prototype._vnDimensionHorizontalRendezVousTitreSeul=function(n,t,i,r,u){var o=(n.m_nHeureAfficheMax-n.m_nHeureAfficheMin)/36e5,f=this.vnGetDimensionPxGraduation(n)*o,s=Math.floor(i/864e5),h=Math.floor(r/864e5),c=h-s+1,e=f*c,l=f*Math.floor((i-u)/864e5);return t.m_oDebut=l,t.m_oLongueur=e,e};var WDPlanning=function(){function t(n){var t=this._nGetDimensionLateralePxConteneur(n);return n.m_nHauteurZoneJourneeComplete&&(t-=n.m_nHauteurZoneJourneeComplete),t}function n(){arguments.length&&WDAPBase.prototype.constructor.apply(this,arguments)}var i=function(){function n(){arguments.length&&WDVueAPHorizontale.prototype.constructor.apply(this,arguments)}return n.prototype=new WDVueAPHorizontale,n.prototype.constructor=n,n.prototype._veTableTrParRessource=function(){return 1},n.prototype._vnGetDimensionLateralePxGraduation=t,n}(),r=function(){function n(){arguments.length&&WDVueAPVerticale.prototype.constructor.apply(this,arguments)}return n.prototype=new WDVueAPVerticale,n.prototype.constructor=n,n.prototype._veTableTrParRessource=function(){return 2},n.prototype._vnGetDimensionLateralePxGraduation=t,n}();return n.prototype=new WDAPBase,n.prototype.constructor=n,n.prototype.ms_eModeRessourcesEnLignes=0,n.prototype.ms_eModeRessourcesEnColonnes=1,n.prototype._voGetClasseVue=function(){return this.ms_eModeRessourcesEnLignes===this.m_oParametres.m_eModeAffichage?i:r},n.prototype._vtabCreeConteneurs=function(){if(this.m_oDonnees.m_tabRessources){var n=this.m_oDonnees.m_tabRessources;return this.m_oDonnees.m_tabRessources=null,delete this.m_oDonnees.m_tabRessources,n}return this._tabGetConteneurs(!1)},n.prototype._vnGetRendezVousConteneur=function(n){return n.m_nRessource},n.prototype._vChangeRendezVousConteneur=function(n,t){WDAPBase.prototype._vChangeRendezVousConteneur.apply(this,arguments);n.m_nRessource=t},n}(),WDPlanningVertical=WDPlanning,WDPlanningHorizontal=WDPlanning,WDAgenda=function(){function n(){arguments.length&&WDAPBase.prototype.constructor.apply(this,arguments)}var t=function(){function n(){arguments.length&&WDVueAPVerticale.prototype.constructor.apply(this,arguments)}return n.prototype=new WDVueAPVerticale,n.prototype.constructor=n,n.prototype._nGetDimensionPxGraduationSelonNbLignes=function(n,t){var i=this.m_nHauteurCorps;return n.m_nHauteurZoneJourneeComplete&&(i-=n.m_nHauteurZoneJourneeComplete),Math.floor(i/t)},n.prototype.vnGetDimensionPxGraduation=function(n){this.__CorrigeParametres(n);var t=(n.m_nHeureAfficheMaxOriginal-n.m_nHeureAfficheMinOriginal)/36e5;return this._nGetDimensionPxGraduationSelonNbLignes(n,t)},n.prototype.voGetDateFinAffichage=function(n){return clWDUtil.oDecaleDateJour(new Date(n.m_oDateDebut),1,!0)},n.prototype._vnGetDebutRendezVous=function(n,t,i,r){return WDVueAPVerticale.prototype._vnGetDebutRendezVous.apply(this,[n,t,i-this.m_oChampAP.nGetRendezVousConteneur(t)*864e5,r])},n.prototype._vtabGetStylesHorizontaux=function(n){return[n.m_oStyleLibJourSemaine]},n.prototype._vnGetHauteurTitresHorizontaux=function(n,t){return n.m_bLigneTitreSemaine&&t++,WDVueAPVerticale.prototype._vnGetHauteurTitresHorizontaux.apply(this,[n,t])},n.prototype._vnGetHauteurRuptureJour=WDVueAPBase.prototype._vnGetHauteurRuptureJour,n.prototype._vnGetDebutRendezVousTitreSeul=WDVueAPBase.prototype._vnGetDebutRendezVousTitreSeul,n.prototype._vbAfficheTouteslesHeures=function(n){return!1!==n.m_bAccesAuxHeuresNonAffichees},n.prototype._vInitCSS=function(n){return!1===n.m_bAccesAuxHeuresNonAffichees&&this.__StyleCree(this.__sGetSelecteur(this.ms_sNomGeneralSpecifique,"",this.ms_sNomCorps),["overflow-y:auto"]),WDVueAPVerticale.prototype._vInitCSS.apply(this,arguments)},n.prototype._vInitCSS_TitresHeuresAgenda=n.prototype._vInitCSS_TitresHeures,n.prototype._veTableTrParRessource=function(){return 0},n.prototype._vnGetDimensionLateralePxGraduation=WDVueAPBase.prototype.__nGetDimensionLateralePxToutesGraduations,n}(),r=function(){function n(){arguments.length&&t.prototype.constructor.apply(this,arguments)}return n.prototype=new t,n.prototype.constructor=n,n.prototype.ms_bZoneTitreSeulIndependanteExterne=!0,n.prototype._vtabHTMLAfficheCorps=function(n){var u,o;if(n.m_nHauteurZoneJourneeComplete){for(var i=[],f=this.__tabHTMLAfficheCorpsHeureDebut(this.ms_sNomFondCouleur),e=this.__tabHTMLAfficheCorpsHeureDebut(this.ms_sNomFondBordure),s=this.m_tabGraduations,h=this._vnGetNbGraduationsParalleles(n),w=s.length/h,r=0;r<h;r++){var b=r*w,c=s[b],l=n.m_tabJours[r],a=l.m_bAujourdhui?2:this._nGetHeureStyle(c.m_oDateDebut.getDay(),l),v=n["m_oStyle"+this._sGetHeureSuffixe(a,!1)],y=v.m_sClasses,p;p=0<a?v.m_cFond:undefined;this.__HTMLAfficheDiv(f,this.ms_sNomJourneeComplete+(y?" "+y:""),undefined,undefined,p);this.__HTMLAfficheDiv(e,this.ms_sNomJourneeComplete+" "+c.m_sClasses)}for(f.push("<\/div>"),i=i.concat(f),e.push("<\/div>"),i=i.concat(e),i.push("<div>"),o=this.m_oChampAP._nGetNbConteneurs(!1),u=0;u<o;u++)this.__HTMLAfficheDiv(i,this.ms_sNomConteneurTitreSeul,this.__sGetNomElement(this._sGetIDConteneur(n,u,!0)));i.push("<\/div>");this.m_oHoteCorpsTitreSeulIndependant.innerHTML=i.join("")}return t.prototype._vtabHTMLAfficheCorps.apply(this,arguments)},n.prototype._vnGetHauteurZoneTitreSeulIndependante=WDVueAPBase.prototype._vnGetHauteurZoneTitreSeulIndependante,n.prototype._vnGetReductionLateraleRendezVousPourZoneTitreSeulIndependante=function(){return 0},n}(),e=function(){function n(){arguments.length&&r.prototype.constructor.apply(this,arguments)}return n.prototype=new r,n.prototype.constructor=n,n.prototype.ms_bReordonneGraduationAffichage=!0,n.prototype._vnGetNbGraduationsParalleles=function(n){return n.m_nNbJoursSemaine},n.prototype._vnGetDimensionLateralePxGraduation=WDVueAPBase.prototype._nGetDimensionLateralePxConteneur,n.prototype._vtabGetStylesHorizontaux=function(n){var t=[];return n.m_bLigneTitreSemaine&&t.push(n.m_oStyleLibNumeroSemaine),t.push(n.m_oStyleLibJourSemaine),t},n.prototype.voGetDateFinAffichage=function(n){return clWDUtil.oDecaleDateJour(new Date(n.m_oDateDebut),n.m_nNbJoursSemaine,!0)},n}(),o=function(){function n(){arguments.length&&t.prototype.constructor.apply(this,arguments)}return n.prototype=new t,n.prototype.constructor=n,n.prototype.ms_bLibelleParGraduation=!0,n.prototype._vInitInitiale=function(){t.prototype._vInitInitiale.apply(this,arguments);this.__StyleCreeGlobal("."+this.ms_sNomFondBordure+" div span",["margin: 2px 2px 2px 2px","float:left"])},n.prototype._vnGetDureeMsFromPosAlignResolution=function(n,t,i,r){return r},n.prototype.vnGetDimensionPxGraduation=function(n){return this._nGetDimensionPxGraduationSelonNbLignes(n,6)},n.prototype.voGetDateFinAffichage=function(n){return clWDUtil.oDecaleDateJour(new Date(n.m_oDateDebut),42,!0)},n.prototype._vnGetDebutRendezVousTitreSeul=function(n,t,i,r){var u=this.vnGetDimensionPxGraduation(n),f=u*Math.floor(Math.floor((i-r)/864e5)/7);return this._nGetHautRendezVousTitreSeul(n,t,f,25,u)},n.prototype._vnGetNbGraduationsParalleles=function(){return 7},n.prototype._vnGetDimensionLateralePxGraduation=WDVueAPBase.prototype._nGetDimensionLateralePxConteneur,n.prototype._vbJourneeEntiere=function(){return!0},n}();n.prototype=new WDAPBase;n.prototype.constructor=WDAgenda;var u=0,f=1,i=2;return n.prototype._voGetClasseVue=function(){switch(this.m_oParametres.m_eModeZoom){default:case u:return r;case f:return e;case i:return o}},n.prototype._vtabCreeConteneurs=function(){switch(this.m_oParametres.m_eModeZoom){default:case u:case f:return this.__tabCreeConteneursJour();case i:return this.__tabCreeConteneursMois()}},n.prototype.__tabCreeConteneursJour=function(){for(var t=[],i=this.m_oParametres.m_tabJours,r=i.length,n=0;n<r;n++)t.push({m_sNomAffiche:i[n].m_sLibelle});return t},n.prototype.__tabCreeConteneursMois=function(){for(var t=[],i=this.m_oParametres.m_tabNomJoursSemaine,r=i.length,n=0;n<r;n++)t.push({m_sNomAffiche:i[n]});return t},n.prototype._vnGetRendezVousConteneur=function(n){for(var e=new Date(this.m_oParametres.m_oDateDebut).setUTCHours(0,0,0,0),o=this.m_oParametres.m_oDateFin.getTime(),s=n.m_oDateDebut.getTime(),r=0,t=e,r=0;t<o;t+=864e5,r++)if(s<t+864e5)switch(this.m_oParametres.m_eModeZoom){default:case u:case f:return r;case i:return r%7}return 0},n.prototype._vChangeRendezVousConteneur=function(n){WDAPBase.prototype._vChangeRendezVousConteneur.apply(this,arguments);this.m_oParametres.m_eModeZoom===i&&n.m_oDateDebut.getTime()===n.m_oDateFin.getTime()&&n.m_oDateFin.setUTCHours(23,59,59,999)},n}();WDDragAP.prototype=new WDDrag;WDDragAP.prototype.constructor=WDDragAP;WDDragAP.prototype.vInitElement=function(n,t,i,r){var u=this;n.m_fMouseDown=function(i){return u.bOnMouseDown(i||event,n,t,!1)?u._bStopPropagation(i):!0};this._AttacheDetacheMouseDown(!0,i,n.m_fMouseDown);r&&r!==i&&(n.m_fMouseDownTitreSeul=function(i){return u.bOnMouseDown(i||event,n,t,!0)?u._bStopPropagation(i):!0},this._AttacheDetacheMouseDown(!0,r,n.m_fMouseDownTitreSeul))};WDDragAP.prototype.vLibereElement=function(n,t,i){i&&i!==t&&(this._AttacheDetacheMouseDown(!1,i,n.m_fMouseDownTitreSeul),n.m_fMouseDownTitreSeul=null);this._AttacheDetacheMouseDown(!1,t,n.m_fMouseDown);n.m_fMouseDown=null};WDDragAP.prototype._vbOnMouseDown=function(){return this.m_oChamp.m_oPopupSaisie.m_oRendezVous?!1:WDDrag.prototype._vbOnMouseDown.apply(this,arguments)?(this.__FantomeSupprime(),!0):!1};WDDragAP.prototype._vOnMouseMove=function(n){WDDrag.prototype._vOnMouseMove.apply(this,arguments);this._vFantomeCreeDeplace(n)};WDDragAP.prototype._vOnMouseUp=function(){this.__FantomeSupprime();WDDrag.prototype._vOnMouseUp.apply(this,arguments)};WDDragAP.prototype._vFantomeCreeDeplace=clWDUtil.m_pfVide;WDDragAP.prototype._FantomeCree=function(n,t,i,r,u,f){var e,s,o;e=document.createElement("div");e.style.position="absolute";this.m_oChamp.m_oVue.nHTMLAfficheUnRendezVousSuperposition(this.m_oChamp.m_oParametres,e,{m_bTitreSeul:r,m_nSuperposition:0,m_nNbSuperpositions:1},0===i);this.m_oChamp.m_oVue.vSetDebut(e,n);this.m_oChamp.m_oVue.vSetLongueur(e,t);this.m_nDivFantomeDebut=n;this.m_nDivFantomeLongueur=t;e.style.backgroundColor=u?u:"#cccccc";clWDUtil.nSetOpacite(60,e);e.style.zIndex=this.m_oChamp.m_oVue.ms_nZIndexFantome;this.m_oChamp.m_oRendezVousSuppression&&(this.m_oChamp.m_oRendezVousSuppression.style.visibility="hidden");s=this.m_oChamp.m_oVue.oGetConteneurDiv(this.m_oChamp.m_oParametres,i,r);this.m_oDivFantome=s.appendChild(e);this.m_nDivFantomeConteneur=i;this.m_bDivFantomeTitreSeul=r;f&&(o=Math.floor(this.m_oChamp.m_oVue.__nGetDimensionPxDepuisDureeMs(this.m_oChamp.m_oParametres,this.m_oChamp.m_oParametres.m_nResolutionDeplacement)/2),this.m_nPosX=this.m_oChamp.m_oVue.vnGetOffsetPosition(this.m_nPosX-o,this.m_nPosX),this.m_nPosY=this.m_oChamp.m_oVue.vnGetOffsetPosition(this.m_nPosY,this.m_nPosY-o))};WDDragAP.prototype._FantomeDeplace=function(n,t,i){this.m_oChamp.m_oVue.vSetDebut(this.m_oDivFantome,n);this.m_oChamp.m_oVue.vSetLongueur(this.m_oDivFantome,t);this.m_nDivFantomeConteneur!==i&&(this.m_oDivFantome=clWDUtil.oSupprimeElement(this.m_oDivFantome),this.m_oDivFantome=this.m_oChamp.m_oVue.oGetConteneurDiv(this.m_oChamp.m_oParametres,i,this.m_bDivFantomeTitreSeul).appendChild(this.m_oDivFantome),this.m_nDivFantomeConteneur=i)};WDDragAP.prototype.__FantomeSupprime=function(){clWDUtil.bHTMLVideDepuisVariable(this,"m_oDivFantome")&&(delete this.m_nOffsetXYPourDebutFantome,this.m_oChamp.m_oRendezVousSuppression&&(this.m_oChamp.m_oRendezVousSuppression.style.visibility="visible"),delete this.m_bDivFantomeTitreSeul,delete this.m_nDivFantomeConteneur,delete this.m_nDivFantomeLongueur,delete this.m_nDivFantomeDebut)};WDDragRendezVous.prototype=new WDDragAP;WDDragRendezVous.prototype.constructor=WDDragRendezVous;WDDragRendezVous.prototype._vbOnMouseDown=function(n,t){var i,r;if(!WDDragAP.prototype._vbOnMouseDown.apply(this,[n]))return!1;if(i=this.m_oChamp.bOnRendezVousSelection(n,t),i){this.m_eDragMode=this.__eGetDragMode(n,t);r=this.m_oChamp.m_oParametres;switch(this.m_eDragMode){case this.ms_eDragRedimDebut:case this.ms_eDragRedimFin:i=this.m_oChamp.m_oVue.bUnRendezVousRedimensionnable(r,t);break;case this.ms_eDragDrop:default:i=r.m_bDeplacementRendezVous&&r.m_bActif}}return i?!0:(delete this.m_eDragMode,this.bOnMouseUp(n),!1)};WDDragRendezVous.prototype.__eGetDragMode=function(n,t){var i=t.m_oDiv||this._oGetOriginalTarget(n),r=this.m_oChamp.m_oVue,u=this.oGetOffsetElementAutre(n,i,r.vbGetVertical());return u<5?this.ms_eDragRedimDebut:r.voGetOffsetLongueur(i)-5<=u?this.ms_eDragRedimFin:this.ms_eDragDrop};WDDragRendezVous.prototype._vOnMouseUp=function(n){this.m_nDateMouseDown===undefined&&this.m_oDivFantome&&(this._vFantomeCreeDeplace(n),this.__Deplacement(n),bFF&&this.m_oChamp.BloqueClicSuivant());delete this.m_eDragMode;WDDragAP.prototype._vOnMouseUp.apply(this,arguments)};WDDragRendezVous.prototype.__Deplacement=function(n){var t=this.m_oChamp.m_oVue.voGetOffsetDebut(this.m_oDivFantome),i=this.m_oChamp.m_oVue.voGetOffsetLongueur(this.m_oDivFantome),r=this.m_nDivFantomeConteneur;switch(this.m_eDragMode){case this.ms_eDragRedimDebut:case this.ms_eDragRedimFin:this.m_oChamp.OnRendezVousRedimensionne(n,t,i);break;case this.ms_eDragDrop:default:this.m_oChamp.OnRendezVousDeplacement(n,t,i,r)}};WDDragRendezVous.prototype._vFantomeCreeDeplace=function(n){var u=this.m_oChamp,i=u.m_oParametres,c;if(this.m_oDivFantome){var f=u.m_oVue,e=this.m_nDivFantomeDebut,t=this.m_nDivFantomeLongueur,s=this.m_bDivFantomeTitreSeul,r=this.m_nDivFantomeConteneur,h=f.vnGetOffsetPosition(this.nGetOffsetPosX(n),this.nGetOffsetPosY(n));switch(this.m_eDragMode){case this.ms_eDragRedimDebut:e=f.nAppliqueResolutionDeplacement(i,e+h,r);t=f.nAppliqueResolutionTaille(i,t-h,0,r,s);t<=0&&(t=f.nAppliqueResolutionTaille(i,0,0,r));break;case this.ms_eDragRedimFin:t=f.nAppliqueResolutionTaille(i,t+h,0,r,s);t<=0&&(t=f.nAppliqueResolutionTaille(i,0,0,r));break;case this.ms_eDragDrop:default:e=f.nAppliqueResolutionDeplacement(i,e+h,r);t=f.nAppliqueResolutionTaille(i,t,0,r,s);!1===i.m_bAccesAuxHeuresNonAffichees&&(c=f.m_nDimensionPxZoneHeures-(e+t),c<0&&(e+=c));r=u.nGetConteneurDepuisPosition(this._oGetOriginalTarget(n),r,s)}this._FantomeDeplace(e,t,r)}else{var o=u.oGetRendezVousSelection(),l=o.m_oDiv,a=u.m_oVue.__cGetFond(o,i.m_oStyleRendezVousSelect,i.m_oStyleLibContenuSelect,!0);this._FantomeCree(u.m_oVue.voGetOffsetDebut(l),u.m_oVue.voGetOffsetLongueur(l),u.nGetRendezVousConteneur(o),u.m_oVue._bRendezVousTitreSeul(i,o),a,this.ms_eDragDrop===this.m_eDragMode)}};WDDragPeriodeSelect.prototype=new WDDragAP;WDDragPeriodeSelect.prototype.constructor=WDDragRendezVous;WDDragPeriodeSelect.prototype.vInitElement=function(n,t,i,r){WDDragAP.prototype.vInitElement.apply(this,arguments);var u=this;n.m_fClic=function(i){return u.bOnClick(i||event,n,t,!1)?u._bStopPropagation(i):!0};clWDUtil.AttacheDetacheEvent(!0,i,"click",n.m_fClic,bTouch);r&&r!==i&&(n.m_fClicTitreSeul=function(i){return u.bOnClick(i||event,n,t,!0)?u._bStopPropagation(i):!0},clWDUtil.AttacheDetacheEvent(!0,r,"click",n.m_fClicTitreSeul,bTouch))};WDDragPeriodeSelect.prototype.vLibereElement=function(n,t,i){i&&i!==t&&(clWDUtil.AttacheDetacheEvent(!1,i,"click",n.m_fClicTitreSeul,bTouch),n.m_fClicTitreSeul=null);clWDUtil.AttacheDetacheEvent(!1,t,"click",n.m_fClic,bTouch);n.m_fClic=null;WDDragAP.prototype.vLibereElement.apply(this,arguments)};WDDragPeriodeSelect.prototype._vbStopPropagation=function(){var n=this.m_oChamp.m_oParametres;return!(n.m_bSelectionPeriode&&n.m_bActif)||bTouch};WDDragPeriodeSelect.prototype._vbOnMouseDown=function(n,t,i,r){var c=this._oGetOriginalTarget(n),h=r&&t.m_oDivTitreSeul?t.m_oDivTitreSeul:t.m_oDiv,f,o,e,u,s;return c!==h?!1:(f=this.m_oChamp,o=f.m_oParametres,!(o.m_bSelectionPeriode&&o.m_bActif))?!1:(e=f.m_oVue,u=e.m_oHoteCorps,clWDUtil.bEventEstTouch(n)&&(e.__nGetClientOuScroll(u,"scrollWidth")>u.offsetWidth||e.__nGetClientOuScroll(u,"scrollHeight")>u.offsetHeight))?!1:WDDragAP.prototype._vbOnMouseDown.apply(this,[n])?(r=this.__bCorrigeTitreSeul(h,t,i,r,this.nGetPosX(),this.nGetPosY()),s=this.__oGetPositionFantome(n,t,i,r),!f.bOnPeriodeSelect(n,s.m_nDebut,s.m_nLongueur,t))?(this.bOnMouseUp(n),!1):(this.m_oConteneur=t,this.m_nConteneur=i,this.m_bTitreSeul=r,!0):!1};WDDragPeriodeSelect.prototype._vOnMouseUp=function(n){this.m_oDivFantome&&(this._vFantomeCreeDeplace(n),this.__Creation(n),this.m_oChamp.BloqueClicSuivant());delete this.m_bTitreSeul;delete this.m_nConteneur;delete this.m_oConteneur;WDDragAP.prototype._vOnMouseUp.apply(this,arguments)};WDDragPeriodeSelect.prototype.bOnClick=function(n,t,i,r){var f,e,s,h;if(1<n.detail||(f=this.m_oChamp,e=f.m_oParametres,!(e.m_bSelectionPeriode&&e.m_bActif))||f.bGetBloqueClicSuivant())return!1;for(var o=r&&t.m_oDivTitreSeul?t.m_oDivTitreSeul:t.m_oDiv,u=clWDUtil.oGetTarget(n),l=u.ownerDocument.body,c=f.m_oVue,a=c.m_oHoteCorps;u&&u!==l&&u!==o&&u!==a;){if(clWDUtil.bAvecClasse(u,f.m_oVue.ms_sNomRendezVousExterne))return!1;u=u.parentNode}return s=this._nGetPosXEvent(n),h=this._nGetPosYEvent(n),r=this.__bCorrigeTitreSeul(o,t,i,r,s,h),f.OnRendezVousAjouteSur1Heure(n,c.vnGetPositionHote(o,s,h,!1),i,r),!0};WDDragPeriodeSelect.prototype.__bCorrigeTitreSeul=function(n,t,i,r,u,f){if(!r&&t.m_oDivTitreSeul&&t.m_oDivTitreSeul===t.m_oDiv){var e=this.m_oChamp.m_oVue.vnGetPositionHote(n,u,f,!1);return this.m_oChamp.m_oVue.bDansRendezVousALaJournee(this.m_oChamp.m_oParametres,e,i)}return r};WDDragPeriodeSelect.prototype.__Creation=function(n){var t=this.__oGetPositionFantome(n,this.m_oConteneur,this.m_nConteneur,this.m_bTitreSeul);this.m_oChamp.OnRendezVousAjoute(n,t.m_nDebut,t.m_nLongueur,this.m_nConteneur,this.m_bTitreSeul)};WDDragPeriodeSelect.prototype._vFantomeCreeDeplace=function(n){var t=this.__oGetPositionFantome(n,this.m_oConteneur,this.m_nConteneur,this.m_bTitreSeul);if(!this.m_oChamp.bOnPeriodeSelect(n,t.m_nDebut,t.m_nLongueur,this.m_oConteneur)){this.bOnMouseUp(n);return}return this.m_oDivFantome?this._FantomeDeplace(t.m_nDebut,t.m_nLongueur,this.m_nConteneur):this._FantomeCree(t.m_nDebut,t.m_nLongueur,this.m_nConteneur,this.m_bTitreSeul,this.m_oChamp.m_oParametres.m_oStyleSelection.m_cFond,!1)};WDDragPeriodeSelect.prototype.__oGetPositionFantome=function(n,t,i,r){var u=this.m_oChamp,h=r&&t.m_oDivTitreSeul?t.m_oDivTitreSeul:t.m_oDiv,e=u.m_oVue.vnGetPositionHote(h,this.nGetPosX(),this.nGetPosY(),!1),f=u.m_oVue.vnGetOffsetPosition(this.nGetOffsetPosX(n),this.nGetOffsetPosY(n)),o,s;return f<0&&(e=e+f,f=-f),o=u.m_oVue.nAppliqueResolutionDeplacement(u.m_oParametres,e,i),s=u.m_oVue.nAppliqueResolutionTaille(u.m_oParametres,f,e-o,i,r),{m_nDebut:o,m_nLongueur:s}};WDPopupSaisiePlanning.prototype=new WDPopupSaisie;WDPopupSaisiePlanning.prototype.constructor=WDPopupSaisiePlanning;WDPopupSaisiePlanning.prototype._vDebut=function(n,t,i,r,u,f,e,o){WDPopupSaisie.prototype._vDebut.apply(this,arguments);var s=o[0];this.m_oRendezVous=s;bTouch&&(this.m_oChampParent.m_nBloqueOnResize=(new Date).getTime())};WDPopupSaisiePlanning.prototype._vValide=function(n,t){WDPopupSaisie.prototype._vValide.apply(this,arguments);this.m_oChampParent.OnRendezVousValideSaisie(n,this.m_oRendezVous,t)};WDPopupSaisiePlanning.prototype._vAnnule=function(){this.m_oRendezVous=null;this.m_oChampParent.BloqueClicSuivant();WDPopupSaisie.prototype._vAnnule.apply(this,arguments)};WDRendezVous.prototype=new WDTypeAvance;WDRendezVous.prototype.constructor=WDRendezVous;WDRendezVous.prototype.GetProp=function(n){switch(n){case 0:return this.m_oRendezVous.m_sTitre;case 1:return this.m_oRendezVous.m_cFondContenu;case 2:return new clWLangage.WDDateHeure(!0,!0,this.__DateHeure2WL(this.m_oRendezVous.m_oDateDebut),undefined,!1);case 3:return new clWLangage.WDDateHeure(!0,!0,this.__DateHeure2WL(this.m_oRendezVous.m_oDateFin),undefined,!1);case 4:return this.m_oRendezVous.m_sContenu;case 8:return this.m_oRendezVous.m_sCategorie;case 14:return this.m_oRendezVous.m_sIDUtilisateur;case 15:return this.m_oRendezVous.m_sBulle;case 16:return this.m_oChamp._sGetNomConteneur(this.m_oChamp.nGetRendezVousConteneur(this.m_oRendezVous),!0);case 17:return this.m_oRendezVous.m_bJourneeEntiere;default:return WDTypeAvance.prototype.GetProp.apply(this,arguments)}};WDRendezVous.prototype.__DateHeure2WL=function(n){return clWDUtil.sGetDateHeureWL(n,!0,!0,!0)};WDRepetition.prototype=new WDTypeAvance;WDRepetition.prototype.constructor=WDRepetition;WDRepetition.prototype.GetProp=function(n){switch(n){default:return WDTypeAvance.prototype.GetProp.apply(this,arguments)}}